/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/tickets/[id]/verify/route";
exports.ids = ["app/api/tickets/[id]/verify/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?4c03":
/*!***********************!*\
  !*** debug (ignored) ***!
  \***********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&page=%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute.js&appDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&page=%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute.js&appDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_mmaso_Downloads_fiddyfiddy10_fiddyfiddy_app_api_tickets_id_verify_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/tickets/[id]/verify/route.js */ \"(rsc)/./app/api/tickets/[id]/verify/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/tickets/[id]/verify/route\",\n        pathname: \"/api/tickets/[id]/verify\",\n        filename: \"route\",\n        bundlePath: \"app/api/tickets/[id]/verify/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\mmaso\\\\Downloads\\\\fiddyfiddy10\\\\fiddyfiddy\\\\app\\\\api\\\\tickets\\\\[id]\\\\verify\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_mmaso_Downloads_fiddyfiddy10_fiddyfiddy_app_api_tickets_id_verify_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/tickets/[id]/verify/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ0aWNrZXRzJTJGJTVCaWQlNUQlMkZ2ZXJpZnklMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRpY2tldHMlMkYlNUJpZCU1RCUyRnZlcmlmeSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnRpY2tldHMlMkYlNUJpZCU1RCUyRnZlcmlmeSUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtbWFzbyU1Q0Rvd25sb2FkcyU1Q2ZpZGR5ZmlkZHkxMCU1Q2ZpZGR5ZmlkZHklNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q21tYXNvJTVDRG93bmxvYWRzJTVDZmlkZHlmaWRkeTEwJTVDZmlkZHlmaWRkeSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnRDtBQUM3SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpZGR5ZmlkZHkvPzBkNTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcbW1hc29cXFxcRG93bmxvYWRzXFxcXGZpZGR5ZmlkZHkxMFxcXFxmaWRkeWZpZGR5XFxcXGFwcFxcXFxhcGlcXFxcdGlja2V0c1xcXFxbaWRdXFxcXHZlcmlmeVxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdGlja2V0cy9baWRdL3ZlcmlmeS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3RpY2tldHMvW2lkXS92ZXJpZnlcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3RpY2tldHMvW2lkXS92ZXJpZnkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxtbWFzb1xcXFxEb3dubG9hZHNcXFxcZmlkZHlmaWRkeTEwXFxcXGZpZGR5ZmlkZHlcXFxcYXBwXFxcXGFwaVxcXFx0aWNrZXRzXFxcXFtpZF1cXFxcdmVyaWZ5XFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3RpY2tldHMvW2lkXS92ZXJpZnkvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&page=%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute.js&appDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/tickets/[id]/verify/route.js":
/*!**********************************************!*\
  !*** ./app/api/tickets/[id]/verify/route.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_knack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/knack */ \"(rsc)/./lib/knack.js\");\n/* harmony import */ var _lib_sendgrid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/sendgrid */ \"(rsc)/./lib/sendgrid.js\");\n\n\n\n// POST /api/tickets/[id]/verify - Submit payment verification\nasync function POST(request, { params }) {\n    try {\n        // Handle form data (for file upload)\n        const formData = await request.formData();\n        const txnId = formData.get(\"txnId\");\n        const screenshot = formData.get(\"screenshot\");\n        if (!txnId && !screenshot) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: true,\n                message: \"Please provide a transaction ID or screenshot\"\n            }, {\n                status: 400\n            });\n        }\n        // Get ticket\n        const ticket = await (0,_lib_knack__WEBPACK_IMPORTED_MODULE_1__.getTicketById)(params.id);\n        if (!ticket) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: true,\n                message: \"Ticket not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Check if already verified\n        if (ticket.status !== \"Pending\" && ticket.status !== undefined) {\n            // Allow re-submission if still pending\n            if (ticket.status !== \"Pending\") {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: true,\n                    message: \"Ticket already verified\"\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Prepare update data\n        const updateData = {\n            verified_at: new Date().toISOString()\n        };\n        // If transaction ID provided, auto-verify\n        if (txnId) {\n            updateData.venmo_txn_id = txnId;\n            updateData.status = \"Verified\"; // Auto-verified with txn ID\n        }\n        // Handle screenshot upload\n        if (screenshot && screenshot.size > 0) {\n            // For Knack, we need to upload the file\n            // This is a simplified version - in production, upload to Knack or cloud storage\n            // For now, we'll convert to base64 and note that screenshot was provided\n            const bytes = await screenshot.arrayBuffer();\n            const base64 = Buffer.from(bytes).toString(\"base64\");\n            const mimeType = screenshot.type;\n            // Store as data URL (for small files) or upload to storage\n            // Note: Knack has file upload limits, may need external storage\n            updateData.screenshot = `data:${mimeType};base64,${base64}`;\n            // If only screenshot (no txn ID), keep as Pending for manual review\n            if (!txnId) {\n                updateData.status = \"Pending\";\n            }\n        }\n        // Update ticket\n        await (0,_lib_knack__WEBPACK_IMPORTED_MODULE_1__.updateTicket)(params.id, updateData);\n        // Get raffle for confirmation email\n        const raffle = await (0,_lib_knack__WEBPACK_IMPORTED_MODULE_1__.getRaffleById)(ticket.raffle);\n        // Send confirmation email\n        try {\n            await (0,_lib_sendgrid__WEBPACK_IMPORTED_MODULE_2__.sendTicketConfirmation)({\n                ...ticket,\n                ...updateData\n            }, raffle);\n        } catch (emailError) {\n            console.error(\"Failed to send confirmation email:\", emailError);\n        // Don't fail the request if email fails\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: txnId ? \"Payment verified\" : \"Screenshot submitted for review\",\n            status: updateData.status\n        });\n    } catch (error) {\n        console.error(\"Verify ticket error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: true,\n            message: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3RpY2tldHMvW2lkXS92ZXJpZnkvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUM4QjtBQUNqQjtBQUV4RCw4REFBOEQ7QUFDdkQsZUFBZUssS0FBS0MsT0FBTyxFQUFFLEVBQUVDLE1BQU0sRUFBRTtJQUM1QyxJQUFJO1FBQ0YscUNBQXFDO1FBQ3JDLE1BQU1DLFdBQVcsTUFBTUYsUUFBUUUsUUFBUTtRQUN2QyxNQUFNQyxRQUFRRCxTQUFTRSxHQUFHLENBQUM7UUFDM0IsTUFBTUMsYUFBYUgsU0FBU0UsR0FBRyxDQUFDO1FBRWhDLElBQUksQ0FBQ0QsU0FBUyxDQUFDRSxZQUFZO1lBQ3pCLE9BQU9YLGtGQUFZQSxDQUFDWSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO2dCQUFNQyxTQUFTO1lBQWdELEdBQ3hFO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxhQUFhO1FBQ2IsTUFBTUMsU0FBUyxNQUFNZix5REFBYUEsQ0FBQ00sT0FBT1UsRUFBRTtRQUM1QyxJQUFJLENBQUNELFFBQVE7WUFDWCxPQUFPaEIsa0ZBQVlBLENBQUNZLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87Z0JBQU1DLFNBQVM7WUFBbUIsR0FDM0M7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDRCQUE0QjtRQUM1QixJQUFJQyxPQUFPRCxNQUFNLEtBQUssYUFBYUMsT0FBT0QsTUFBTSxLQUFLRyxXQUFXO1lBQzlELHVDQUF1QztZQUN2QyxJQUFJRixPQUFPRCxNQUFNLEtBQUssV0FBVztnQkFDL0IsT0FBT2Ysa0ZBQVlBLENBQUNZLElBQUksQ0FDdEI7b0JBQUVDLE9BQU87b0JBQU1DLFNBQVM7Z0JBQTBCLEdBQ2xEO29CQUFFQyxRQUFRO2dCQUFJO1lBRWxCO1FBQ0Y7UUFFQSxzQkFBc0I7UUFDdEIsTUFBTUksYUFBYTtZQUNqQkMsYUFBYSxJQUFJQyxPQUFPQyxXQUFXO1FBQ3JDO1FBRUEsMENBQTBDO1FBQzFDLElBQUliLE9BQU87WUFDVFUsV0FBV0ksWUFBWSxHQUFHZDtZQUMxQlUsV0FBV0osTUFBTSxHQUFHLFlBQVksNEJBQTRCO1FBQzlEO1FBRUEsMkJBQTJCO1FBQzNCLElBQUlKLGNBQWNBLFdBQVdhLElBQUksR0FBRyxHQUFHO1lBQ3JDLHdDQUF3QztZQUN4QyxpRkFBaUY7WUFDakYseUVBQXlFO1lBQ3pFLE1BQU1DLFFBQVEsTUFBTWQsV0FBV2UsV0FBVztZQUMxQyxNQUFNQyxTQUFTQyxPQUFPQyxJQUFJLENBQUNKLE9BQU9LLFFBQVEsQ0FBQztZQUMzQyxNQUFNQyxXQUFXcEIsV0FBV3FCLElBQUk7WUFFaEMsMkRBQTJEO1lBQzNELGdFQUFnRTtZQUNoRWIsV0FBV1IsVUFBVSxHQUFHLENBQUMsS0FBSyxFQUFFb0IsU0FBUyxRQUFRLEVBQUVKLE9BQU8sQ0FBQztZQUUzRCxvRUFBb0U7WUFDcEUsSUFBSSxDQUFDbEIsT0FBTztnQkFDVlUsV0FBV0osTUFBTSxHQUFHO1lBQ3RCO1FBQ0Y7UUFFQSxnQkFBZ0I7UUFDaEIsTUFBTWIsd0RBQVlBLENBQUNLLE9BQU9VLEVBQUUsRUFBRUU7UUFFOUIsb0NBQW9DO1FBQ3BDLE1BQU1jLFNBQVMsTUFBTTlCLHlEQUFhQSxDQUFDYSxPQUFPaUIsTUFBTTtRQUVoRCwwQkFBMEI7UUFDMUIsSUFBSTtZQUNGLE1BQU03QixxRUFBc0JBLENBQzFCO2dCQUFFLEdBQUdZLE1BQU07Z0JBQUUsR0FBR0csVUFBVTtZQUFDLEdBQzNCYztRQUVKLEVBQUUsT0FBT0MsWUFBWTtZQUNuQkMsUUFBUXRCLEtBQUssQ0FBQyxzQ0FBc0NxQjtRQUNwRCx3Q0FBd0M7UUFDMUM7UUFFQSxPQUFPbEMsa0ZBQVlBLENBQUNZLElBQUksQ0FBQztZQUN2QndCLFNBQVM7WUFDVHRCLFNBQVNMLFFBQVEscUJBQXFCO1lBQ3RDTSxRQUFRSSxXQUFXSixNQUFNO1FBQzNCO0lBRUYsRUFBRSxPQUFPRixPQUFPO1FBQ2RzQixRQUFRdEIsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBT2Isa0ZBQVlBLENBQUNZLElBQUksQ0FDdEI7WUFBRUMsT0FBTztZQUFNQyxTQUFTRCxNQUFNQyxPQUFPO1FBQUMsR0FDdEM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maWRkeWZpZGR5Ly4vYXBwL2FwaS90aWNrZXRzL1tpZF0vdmVyaWZ5L3JvdXRlLmpzPzlkNDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0VGlja2V0QnlJZCwgdXBkYXRlVGlja2V0LCBnZXRSYWZmbGVCeUlkIH0gZnJvbSAnQC9saWIva25hY2snO1xuaW1wb3J0IHsgc2VuZFRpY2tldENvbmZpcm1hdGlvbiB9IGZyb20gJ0AvbGliL3NlbmRncmlkJztcblxuLy8gUE9TVCAvYXBpL3RpY2tldHMvW2lkXS92ZXJpZnkgLSBTdWJtaXQgcGF5bWVudCB2ZXJpZmljYXRpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QsIHsgcGFyYW1zIH0pIHtcbiAgdHJ5IHtcbiAgICAvLyBIYW5kbGUgZm9ybSBkYXRhIChmb3IgZmlsZSB1cGxvYWQpXG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gICAgY29uc3QgdHhuSWQgPSBmb3JtRGF0YS5nZXQoJ3R4bklkJyk7XG4gICAgY29uc3Qgc2NyZWVuc2hvdCA9IGZvcm1EYXRhLmdldCgnc2NyZWVuc2hvdCcpO1xuXG4gICAgaWYgKCF0eG5JZCAmJiAhc2NyZWVuc2hvdCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIHByb3ZpZGUgYSB0cmFuc2FjdGlvbiBJRCBvciBzY3JlZW5zaG90JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRpY2tldFxuICAgIGNvbnN0IHRpY2tldCA9IGF3YWl0IGdldFRpY2tldEJ5SWQocGFyYW1zLmlkKTtcbiAgICBpZiAoIXRpY2tldCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiB0cnVlLCBtZXNzYWdlOiAnVGlja2V0IG5vdCBmb3VuZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGFscmVhZHkgdmVyaWZpZWRcbiAgICBpZiAodGlja2V0LnN0YXR1cyAhPT0gJ1BlbmRpbmcnICYmIHRpY2tldC5zdGF0dXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQWxsb3cgcmUtc3VibWlzc2lvbiBpZiBzdGlsbCBwZW5kaW5nXG4gICAgICBpZiAodGlja2V0LnN0YXR1cyAhPT0gJ1BlbmRpbmcnKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IGVycm9yOiB0cnVlLCBtZXNzYWdlOiAnVGlja2V0IGFscmVhZHkgdmVyaWZpZWQnIH0sXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUHJlcGFyZSB1cGRhdGUgZGF0YVxuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICB2ZXJpZmllZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG5cbiAgICAvLyBJZiB0cmFuc2FjdGlvbiBJRCBwcm92aWRlZCwgYXV0by12ZXJpZnlcbiAgICBpZiAodHhuSWQpIHtcbiAgICAgIHVwZGF0ZURhdGEudmVubW9fdHhuX2lkID0gdHhuSWQ7XG4gICAgICB1cGRhdGVEYXRhLnN0YXR1cyA9ICdWZXJpZmllZCc7IC8vIEF1dG8tdmVyaWZpZWQgd2l0aCB0eG4gSURcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgc2NyZWVuc2hvdCB1cGxvYWRcbiAgICBpZiAoc2NyZWVuc2hvdCAmJiBzY3JlZW5zaG90LnNpemUgPiAwKSB7XG4gICAgICAvLyBGb3IgS25hY2ssIHdlIG5lZWQgdG8gdXBsb2FkIHRoZSBmaWxlXG4gICAgICAvLyBUaGlzIGlzIGEgc2ltcGxpZmllZCB2ZXJzaW9uIC0gaW4gcHJvZHVjdGlvbiwgdXBsb2FkIHRvIEtuYWNrIG9yIGNsb3VkIHN0b3JhZ2VcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIGNvbnZlcnQgdG8gYmFzZTY0IGFuZCBub3RlIHRoYXQgc2NyZWVuc2hvdCB3YXMgcHJvdmlkZWRcbiAgICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgc2NyZWVuc2hvdC5hcnJheUJ1ZmZlcigpO1xuICAgICAgY29uc3QgYmFzZTY0ID0gQnVmZmVyLmZyb20oYnl0ZXMpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICAgIGNvbnN0IG1pbWVUeXBlID0gc2NyZWVuc2hvdC50eXBlO1xuICAgICAgXG4gICAgICAvLyBTdG9yZSBhcyBkYXRhIFVSTCAoZm9yIHNtYWxsIGZpbGVzKSBvciB1cGxvYWQgdG8gc3RvcmFnZVxuICAgICAgLy8gTm90ZTogS25hY2sgaGFzIGZpbGUgdXBsb2FkIGxpbWl0cywgbWF5IG5lZWQgZXh0ZXJuYWwgc3RvcmFnZVxuICAgICAgdXBkYXRlRGF0YS5zY3JlZW5zaG90ID0gYGRhdGE6JHttaW1lVHlwZX07YmFzZTY0LCR7YmFzZTY0fWA7XG4gICAgICBcbiAgICAgIC8vIElmIG9ubHkgc2NyZWVuc2hvdCAobm8gdHhuIElEKSwga2VlcCBhcyBQZW5kaW5nIGZvciBtYW51YWwgcmV2aWV3XG4gICAgICBpZiAoIXR4bklkKSB7XG4gICAgICAgIHVwZGF0ZURhdGEuc3RhdHVzID0gJ1BlbmRpbmcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aWNrZXRcbiAgICBhd2FpdCB1cGRhdGVUaWNrZXQocGFyYW1zLmlkLCB1cGRhdGVEYXRhKTtcblxuICAgIC8vIEdldCByYWZmbGUgZm9yIGNvbmZpcm1hdGlvbiBlbWFpbFxuICAgIGNvbnN0IHJhZmZsZSA9IGF3YWl0IGdldFJhZmZsZUJ5SWQodGlja2V0LnJhZmZsZSk7XG5cbiAgICAvLyBTZW5kIGNvbmZpcm1hdGlvbiBlbWFpbFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzZW5kVGlja2V0Q29uZmlybWF0aW9uKFxuICAgICAgICB7IC4uLnRpY2tldCwgLi4udXBkYXRlRGF0YSB9LFxuICAgICAgICByYWZmbGVcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZW1haWxFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgY29uZmlybWF0aW9uIGVtYWlsOicsIGVtYWlsRXJyb3IpO1xuICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgcmVxdWVzdCBpZiBlbWFpbCBmYWlsc1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogdHhuSWQgPyAnUGF5bWVudCB2ZXJpZmllZCcgOiAnU2NyZWVuc2hvdCBzdWJtaXR0ZWQgZm9yIHJldmlldycsXG4gICAgICBzdGF0dXM6IHVwZGF0ZURhdGEuc3RhdHVzLFxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignVmVyaWZ5IHRpY2tldCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogdHJ1ZSwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFRpY2tldEJ5SWQiLCJ1cGRhdGVUaWNrZXQiLCJnZXRSYWZmbGVCeUlkIiwic2VuZFRpY2tldENvbmZpcm1hdGlvbiIsIlBPU1QiLCJyZXF1ZXN0IiwicGFyYW1zIiwiZm9ybURhdGEiLCJ0eG5JZCIsImdldCIsInNjcmVlbnNob3QiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIiwidGlja2V0IiwiaWQiLCJ1bmRlZmluZWQiLCJ1cGRhdGVEYXRhIiwidmVyaWZpZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ2ZW5tb190eG5faWQiLCJzaXplIiwiYnl0ZXMiLCJhcnJheUJ1ZmZlciIsImJhc2U2NCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsIm1pbWVUeXBlIiwidHlwZSIsInJhZmZsZSIsImVtYWlsRXJyb3IiLCJjb25zb2xlIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/tickets/[id]/verify/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/knack.js":
/*!**********************!*\
  !*** ./lib/knack.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FIELD_MAP: () => (/* binding */ FIELD_MAP),\n/* harmony export */   OBJECTS: () => (/* binding */ OBJECTS),\n/* harmony export */   countTicketsByRaffle: () => (/* binding */ countTicketsByRaffle),\n/* harmony export */   createDrawLogEntry: () => (/* binding */ createDrawLogEntry),\n/* harmony export */   createRaffle: () => (/* binding */ createRaffle),\n/* harmony export */   createTicket: () => (/* binding */ createTicket),\n/* harmony export */   createTransaction: () => (/* binding */ createTransaction),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   deleteRaffle: () => (/* binding */ deleteRaffle),\n/* harmony export */   getActivePublicRaffles: () => (/* binding */ getActivePublicRaffles),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getDrawLogByRaffle: () => (/* binding */ getDrawLogByRaffle),\n/* harmony export */   getEligibleTickets: () => (/* binding */ getEligibleTickets),\n/* harmony export */   getPendingTickets: () => (/* binding */ getPendingTickets),\n/* harmony export */   getRaffleById: () => (/* binding */ getRaffleById),\n/* harmony export */   getRaffles: () => (/* binding */ getRaffles),\n/* harmony export */   getRafflesByOrganizer: () => (/* binding */ getRafflesByOrganizer),\n/* harmony export */   getSettings: () => (/* binding */ getSettings),\n/* harmony export */   getTicketById: () => (/* binding */ getTicketById),\n/* harmony export */   getTicketByNumber: () => (/* binding */ getTicketByNumber),\n/* harmony export */   getTicketsByRaffle: () => (/* binding */ getTicketsByRaffle),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   updateRaffle: () => (/* binding */ updateRaffle),\n/* harmony export */   updateTicket: () => (/* binding */ updateTicket),\n/* harmony export */   updateTransaction: () => (/* binding */ updateTransaction),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/**\n * Knack API Wrapper\n * Handles all database operations\n */ const KNACK_APP_ID = process.env.KNACK_APP_ID;\nconst KNACK_API_KEY = process.env.KNACK_API_KEY;\nconst BASE_URL = \"https://api.knack.com/v1\";\nconst OBJECTS = {\n    settings: \"object_4\",\n    users: \"object_5\",\n    raffles: \"object_6\",\n    tickets: \"object_7\",\n    drawLog: \"object_8\",\n    transactions: \"object_9\"\n};\n// Standard headers for all requests\nconst headers = {\n    \"X-Knack-Application-Id\": KNACK_APP_ID,\n    \"X-Knack-REST-API-Key\": KNACK_API_KEY,\n    \"Content-Type\": \"application/json\"\n};\n/**\n * Generic API request handler\n */ async function knackRequest(endpoint, options = {}) {\n    const url = `${BASE_URL}${endpoint}`;\n    const response = await fetch(url, {\n        ...options,\n        headers: {\n            ...headers,\n            ...options.headers\n        }\n    });\n    if (!response.ok) {\n        const error = await response.text();\n        throw new Error(`Knack API Error: ${response.status} - ${error}`);\n    }\n    return response.json();\n}\n// ===========================================\n// SETTINGS\n// ===========================================\nasync function getSettings() {\n    const data = await knackRequest(`/objects/${OBJECTS.settings}/records`);\n    return data.records[0] || null;\n}\n// ===========================================\n// USERS\n// ===========================================\nasync function getUserByEmail(email) {\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_57\",\n                operator: \"is\",\n                value: email\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.users}/records?filters=${filters}`);\n    if (data.records[0]) {\n        // Map Knack fields to friendly names\n        const user = data.records[0];\n        return {\n            id: user.id,\n            email: user.field_57_raw?.email || user.field_57_raw || user.field_57?.replace?.(/<[^>]*>/g, \"\") || user.field_57,\n            password: user.field_58,\n            role: user.field_59,\n            name: user.field_60,\n            venmo_handle: user.field_61,\n            phone: user.field_62,\n            status: user.field_63\n        };\n    }\n    return null;\n}\nasync function getUserById(id) {\n    const user = await knackRequest(`/objects/${OBJECTS.users}/records/${id}`);\n    return {\n        id: user.id,\n        email: user.field_57_raw?.email || user.field_57_raw || user.field_57?.replace?.(/<[^>]*>/g, \"\") || user.field_57,\n        password: user.field_58,\n        role: user.field_59,\n        name: user.field_60,\n        venmo_handle: user.field_61,\n        phone: user.field_62,\n        status: user.field_63\n    };\n}\nasync function getAllUsers() {\n    const data = await knackRequest(`/objects/${OBJECTS.users}/records?rows_per_page=1000`);\n    return data.records;\n}\nasync function createUser(userData) {\n    return knackRequest(`/objects/${OBJECTS.users}/records`, {\n        method: \"POST\",\n        body: JSON.stringify(userData)\n    });\n}\nasync function updateUser(id, userData) {\n    return knackRequest(`/objects/${OBJECTS.users}/records/${id}`, {\n        method: \"PUT\",\n        body: JSON.stringify(userData)\n    });\n}\n// ===========================================\n// RAFFLES\n// ===========================================\n// Helper to parse Knack currency values \n// Knack returns currency as \"$1.00\" string OR as raw number OR as object with raw value\nfunction parseCurrency(value) {\n    if (!value) return 0;\n    if (typeof value === \"number\") return value;\n    // If it's an object with a raw value (Knack sometimes does this)\n    if (typeof value === \"object\" && value !== null) {\n        if (value.raw !== undefined) return parseFloat(value.raw) || 0;\n        if (value.value !== undefined) return parseFloat(String(value.value).replace(/[$,]/g, \"\")) || 0;\n    }\n    // Remove $ and commas, then parse\n    const cleaned = String(value).replace(/[$,]/g, \"\");\n    const parsed = parseFloat(cleaned);\n    return isNaN(parsed) ? 0 : parsed;\n}\n// Helper to map Knack raffle record to friendly names\nfunction mapRaffleFields(record) {\n    if (!record) return null;\n    return {\n        id: record.id,\n        raffle_name: record.field_117,\n        beneficiary_name: record.field_64,\n        beneficiary_type: record.field_65,\n        beneficiary_venmo: record.field_118,\n        // Try raw value first, then formatted\n        ticket_price: parseCurrency(record.field_66_raw ?? record.field_66),\n        max_tickets: parseInt(record.field_67_raw ?? record.field_67) || 0,\n        tickets_sold: parseInt(record.field_68_raw ?? record.field_68) || 0,\n        status: record.field_69,\n        draw_trigger: record.field_70 || \"Manual\",\n        draw_time: record.field_71,\n        draw_ticket_count: parseInt(record.field_72_raw ?? record.field_72) || 0,\n        is_public: record.field_73 === true || record.field_73 === \"Yes\" || record.field_73 === \"yes\",\n        ticket_prefix: record.field_74,\n        organizer_venmo: record.field_75,\n        logo: record.field_76,\n        state_restrictions: record.field_77,\n        owner_prime: parseInt(record.field_78_raw ?? record.field_78) || 11,\n        min_tickets_enabled: record.field_79 === true || record.field_79 === \"Yes\" || record.field_79 === \"yes\",\n        min_tickets: parseInt(record.field_80_raw ?? record.field_80) || 11,\n        redraw_count: parseInt(record.field_81_raw ?? record.field_81) || 0,\n        drawn_at: record.field_82,\n        organizer: record.field_83_raw?.[0]?.id || record.field_83,\n        winning_ticket: record.field_84_raw?.[0]?.id || record.field_84,\n        payout_confirmed: record.field_85 === true || record.field_85 === \"Yes\" || record.field_85 === \"yes\",\n        payout_confirmed_at: record.field_86,\n        jackpot_current: record.field_87,\n        tickets_remaining: record.field_88,\n        suggested_max: record.field_89,\n        redraws_remaining: record.field_90\n    };\n}\nasync function getRaffles(filters = {}) {\n    let endpoint = `/objects/${OBJECTS.raffles}/records?sort_field=field_64&sort_order=desc`;\n    if (filters.status) {\n        const filterObj = encodeURIComponent(JSON.stringify({\n            match: \"and\",\n            rules: [\n                {\n                    field: \"field_69\",\n                    operator: \"is\",\n                    value: filters.status\n                }\n            ]\n        }));\n        endpoint += `&filters=${filterObj}`;\n    }\n    const data = await knackRequest(endpoint);\n    return data.records.map(mapRaffleFields);\n}\nasync function getActivePublicRaffles() {\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_69\",\n                operator: \"is\",\n                value: \"Active\"\n            },\n            {\n                field: \"field_73\",\n                operator: \"is\",\n                value: true\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.raffles}/records?filters=${filters}`);\n    return data.records.map(mapRaffleFields);\n}\nasync function getRaffleById(id, debug = false) {\n    const record = await knackRequest(`/objects/${OBJECTS.raffles}/records/${id}`);\n    if (debug) {\n        // Return raw Knack data for debugging\n        return {\n            _raw: record,\n            _mapped: mapRaffleFields(record)\n        };\n    }\n    return mapRaffleFields(record);\n}\nasync function getRafflesByOrganizer(organizerId) {\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_83\",\n                operator: \"is\",\n                value: organizerId\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.raffles}/records?filters=${filters}`);\n    return data.records.map(mapRaffleFields);\n}\n// Helper to map friendly raffle names back to Knack field IDs\nfunction mapRaffleToKnack(data) {\n    const mapping = {\n        raffle_name: \"field_117\",\n        beneficiary_name: \"field_64\",\n        beneficiary_type: \"field_65\",\n        beneficiary_venmo: \"field_118\",\n        ticket_price: \"field_66\",\n        max_tickets: \"field_67\",\n        tickets_sold: \"field_68\",\n        status: \"field_69\",\n        draw_trigger: \"field_70\",\n        draw_time: \"field_71\",\n        draw_ticket_count: \"field_72\",\n        is_public: \"field_73\",\n        ticket_prefix: \"field_74\",\n        organizer_venmo: \"field_75\",\n        logo: \"field_76\",\n        state_restrictions: \"field_77\",\n        owner_prime: \"field_78\",\n        min_tickets_enabled: \"field_79\",\n        min_tickets: \"field_80\",\n        redraw_count: \"field_81\",\n        drawn_at: \"field_82\",\n        organizer: \"field_83\",\n        winning_ticket: \"field_84\",\n        payout_confirmed: \"field_85\",\n        payout_confirmed_at: \"field_86\"\n    };\n    // Connection fields that need array format\n    const connectionFields = [\n        \"organizer\",\n        \"winning_ticket\"\n    ];\n    const result = {};\n    for (const [key, value] of Object.entries(data)){\n        if (mapping[key]) {\n            // Connection fields need to be sent as array of IDs\n            if (connectionFields.includes(key) && value) {\n                result[mapping[key]] = [\n                    value\n                ];\n            } else {\n                result[mapping[key]] = value;\n            }\n        }\n    }\n    return result;\n}\nasync function createRaffle(raffleData) {\n    const knackData = mapRaffleToKnack(raffleData);\n    return knackRequest(`/objects/${OBJECTS.raffles}/records`, {\n        method: \"POST\",\n        body: JSON.stringify(knackData)\n    });\n}\nasync function updateRaffle(id, raffleData) {\n    const knackData = mapRaffleToKnack(raffleData);\n    return knackRequest(`/objects/${OBJECTS.raffles}/records/${id}`, {\n        method: \"PUT\",\n        body: JSON.stringify(knackData)\n    });\n}\nasync function deleteRaffle(id) {\n    return knackRequest(`/objects/${OBJECTS.raffles}/records/${id}`, {\n        method: \"DELETE\"\n    });\n}\n// ===========================================\n// TICKETS\n// ===========================================\n// Helper to strip HTML from Knack fields (email fields return HTML)\nfunction stripHtml(value) {\n    if (!value) return \"\";\n    if (typeof value !== \"string\") return String(value);\n    // Remove HTML tags\n    return value.replace(/<[^>]*>/g, \"\");\n}\n// Helper to map Knack ticket record to friendly names\nfunction mapTicketFields(record) {\n    if (!record) return null;\n    // Extract email - Knack returns HTML like <a href=\"mailto:x@y.com\">x@y.com</a>\n    let email = record.field_94_raw?.email || record.field_94_raw || record.field_94 || \"\";\n    email = stripHtml(email);\n    return {\n        id: record.id,\n        raffle: record.field_91_raw?.[0]?.id || record.field_91,\n        ticket_number: record.field_92,\n        sequence_number: parseInt(record.field_93) || 0,\n        player_email: email,\n        player_venmo: stripHtml(record.field_95),\n        venmo_note: record.field_96,\n        venmo_txn_id: record.field_97,\n        status: record.field_98 || \"Pending\",\n        payment_recipient: record.field_99,\n        created_at: record.field_100,\n        verified_at: record.field_101\n    };\n}\n// Helper to map friendly ticket names back to Knack field IDs\nfunction mapTicketToKnack(data) {\n    const mapping = {\n        raffle: \"field_91\",\n        ticket_number: \"field_92\",\n        sequence_number: \"field_93\",\n        player_email: \"field_94\",\n        player_venmo: \"field_95\",\n        venmo_note: \"field_96\",\n        venmo_txn_id: \"field_97\",\n        status: \"field_98\",\n        payment_recipient: \"field_99\"\n    };\n    const result = {};\n    for (const [key, value] of Object.entries(data)){\n        if (mapping[key] && value !== undefined && value !== null) {\n            // Connection fields (raffle) need to be sent as array of IDs\n            if (key === \"raffle\" && value) {\n                result[mapping[key]] = [\n                    value\n                ]; // Knack expects array for connections\n            } else {\n                result[mapping[key]] = value;\n            }\n        }\n    }\n    return result;\n}\nasync function getTicketsByRaffle(raffleId) {\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_91\",\n                operator: \"is\",\n                value: raffleId\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.tickets}/records?filters=${filters}`);\n    return data.records.map(mapTicketFields);\n}\nasync function getTicketByNumber(ticketNumber) {\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_92\",\n                operator: \"is\",\n                value: ticketNumber\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.tickets}/records?filters=${filters}`);\n    return data.records[0] ? mapTicketFields(data.records[0]) : null;\n}\nasync function getTicketById(id) {\n    const record = await knackRequest(`/objects/${OBJECTS.tickets}/records/${id}`);\n    return mapTicketFields(record);\n}\nasync function getPendingTickets(raffleId) {\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_91\",\n                operator: \"is\",\n                value: raffleId\n            },\n            {\n                field: \"field_98\",\n                operator: \"is\",\n                value: \"Pending\"\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.tickets}/records?filters=${filters}`);\n    return data.records.map(mapTicketFields);\n}\nasync function getEligibleTickets(raffleId) {\n    // Tickets that are Verified or Confirmed\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_91\",\n                operator: \"is\",\n                value: raffleId\n            },\n            {\n                field: \"field_98\",\n                operator: \"is not\",\n                value: \"Pending\"\n            },\n            {\n                field: \"field_98\",\n                operator: \"is not\",\n                value: \"Invalid\"\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.tickets}/records?filters=${filters}`);\n    return data.records.map(mapTicketFields);\n}\nasync function createTicket(ticketData) {\n    const knackData = mapTicketToKnack(ticketData);\n    return knackRequest(`/objects/${OBJECTS.tickets}/records`, {\n        method: \"POST\",\n        body: JSON.stringify(knackData)\n    });\n}\nasync function updateTicket(id, ticketData) {\n    const knackData = mapTicketToKnack(ticketData);\n    return knackRequest(`/objects/${OBJECTS.tickets}/records/${id}`, {\n        method: \"PUT\",\n        body: JSON.stringify(knackData)\n    });\n}\nasync function countTicketsByRaffle(raffleId) {\n    const tickets = await getTicketsByRaffle(raffleId);\n    return tickets.length;\n}\n// ===========================================\n// DRAW LOG\n// ===========================================\nasync function getDrawLogByRaffle(raffleId) {\n    const filters = encodeURIComponent(JSON.stringify({\n        match: \"and\",\n        rules: [\n            {\n                field: \"field_raffle\",\n                operator: \"is\",\n                value: raffleId\n            }\n        ]\n    }));\n    const data = await knackRequest(`/objects/${OBJECTS.drawLog}/records?filters=${filters}&sort_field=field_draw_number&sort_order=asc`);\n    return data.records;\n}\nasync function createDrawLogEntry(logData) {\n    return knackRequest(`/objects/${OBJECTS.drawLog}/records`, {\n        method: \"POST\",\n        body: JSON.stringify(logData)\n    });\n}\n// ===========================================\n// TRANSACTIONS\n// ===========================================\nasync function createTransaction(transactionData) {\n    return knackRequest(`/objects/${OBJECTS.transactions}/records`, {\n        method: \"POST\",\n        body: JSON.stringify(transactionData)\n    });\n}\nasync function updateTransaction(id, transactionData) {\n    return knackRequest(`/objects/${OBJECTS.transactions}/records/${id}`, {\n        method: \"PUT\",\n        body: JSON.stringify(transactionData)\n    });\n}\n// ===========================================\n// FIELD MAPPING HELPERS\n// ===========================================\n/**\n * Maps friendly field names to Knack field IDs\n * Based on actual Knack schema - January 2025\n */ const FIELD_MAP = {\n    // Settings fields (field_49 - field_56)\n    settings: {\n        owner_venmo: \"field_49\",\n        owner_prime_default: \"field_50\",\n        restricted_states: \"field_51\",\n        refund_window_days: \"field_52\",\n        payout_deadline_hours: \"field_53\",\n        max_redraws: \"field_54\",\n        support_email: \"field_55\",\n        platform_name: \"field_56\"\n    },\n    // User fields (field_57 - field_63)\n    users: {\n        email: \"field_57\",\n        password: \"field_58\",\n        role: \"field_59\",\n        name: \"field_60\",\n        venmo_handle: \"field_61\",\n        phone: \"field_62\",\n        status: \"field_63\"\n    },\n    // Raffle fields (field_64 - field_90, field_117-118)\n    raffles: {\n        raffle_name: \"field_117\",\n        beneficiary_name: \"field_64\",\n        beneficiary_type: \"field_65\",\n        beneficiary_venmo: \"field_118\",\n        ticket_price: \"field_66\",\n        max_tickets: \"field_67\",\n        tickets_sold: \"field_68\",\n        status: \"field_69\",\n        draw_trigger: \"field_70\",\n        draw_time: \"field_71\",\n        draw_ticket_count: \"field_72\",\n        is_public: \"field_73\",\n        ticket_prefix: \"field_74\",\n        organizer_venmo: \"field_75\",\n        logo: \"field_76\",\n        state_restrictions: \"field_77\",\n        owner_prime: \"field_78\",\n        min_tickets_enabled: \"field_79\",\n        min_tickets: \"field_80\",\n        redraw_count: \"field_81\",\n        drawn_at: \"field_82\",\n        organizer: \"field_83\",\n        winning_ticket: \"field_84\",\n        payout_confirmed: \"field_85\",\n        payout_confirmed_at: \"field_86\",\n        // Calculated/Equation fields (read-only)\n        jackpot_current: \"field_87\",\n        tickets_remaining: \"field_88\",\n        suggested_max: \"field_89\",\n        redraws_remaining: \"field_90\"\n    },\n    // Ticket fields (field_91 - field_101)\n    tickets: {\n        raffle: \"field_91\",\n        ticket_number: \"field_92\",\n        sequence_number: \"field_93\",\n        player_email: \"field_94\",\n        player_venmo: \"field_95\",\n        venmo_note: \"field_96\",\n        venmo_txn_id: \"field_97\",\n        status: \"field_98\",\n        payment_recipient: \"field_99\",\n        created_at: \"field_100\",\n        verified_at: \"field_101\"\n    },\n    // Draw Log fields (field_102 - field_107)\n    drawLog: {\n        raffle: \"field_102\",\n        ticket: \"field_103\",\n        draw_number: \"field_104\",\n        result: \"field_105\",\n        reason: \"field_106\",\n        timestamp: \"field_107\"\n    },\n    // Transaction fields (field_108 - field_116)\n    transactions: {\n        raffle: \"field_108\",\n        ticket: \"field_109\",\n        type: \"field_110\",\n        amount: \"field_111\",\n        from_venmo: \"field_112\",\n        to_venmo: \"field_113\",\n        status: \"field_114\",\n        confirmed_at: \"field_115\",\n        notes: \"field_116\"\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVO1FBQ1Z2TSxRQUFRO1FBQ1J3TSxjQUFjO1FBQ2RDLE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maWRkeWZpZGR5Ly4vbGliL2tuYWNrLmpzPzgzYzMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBLbmFjayBBUEkgV3JhcHBlclxuICogSGFuZGxlcyBhbGwgZGF0YWJhc2Ugb3BlcmF0aW9uc1xuICovXG5cbmNvbnN0IEtOQUNLX0FQUF9JRCA9IHByb2Nlc3MuZW52LktOQUNLX0FQUF9JRDtcbmNvbnN0IEtOQUNLX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5LTkFDS19BUElfS0VZO1xuY29uc3QgQkFTRV9VUkwgPSAnaHR0cHM6Ly9hcGkua25hY2suY29tL3YxJztcblxuY29uc3QgT0JKRUNUUyA9IHtcbiAgc2V0dGluZ3M6ICdvYmplY3RfNCcsXG4gIHVzZXJzOiAnb2JqZWN0XzUnLFxuICByYWZmbGVzOiAnb2JqZWN0XzYnLFxuICB0aWNrZXRzOiAnb2JqZWN0XzcnLFxuICBkcmF3TG9nOiAnb2JqZWN0XzgnLFxuICB0cmFuc2FjdGlvbnM6ICdvYmplY3RfOScsXG59O1xuXG4vLyBTdGFuZGFyZCBoZWFkZXJzIGZvciBhbGwgcmVxdWVzdHNcbmNvbnN0IGhlYWRlcnMgPSB7XG4gICdYLUtuYWNrLUFwcGxpY2F0aW9uLUlkJzogS05BQ0tfQVBQX0lELFxuICAnWC1LbmFjay1SRVNULUFQSS1LZXknOiBLTkFDS19BUElfS0VZLFxuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxufTtcblxuLyoqXG4gKiBHZW5lcmljIEFQSSByZXF1ZXN0IGhhbmRsZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24ga25hY2tSZXF1ZXN0KGVuZHBvaW50LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgdXJsID0gYCR7QkFTRV9VUkx9JHtlbmRwb2ludH1gO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgaGVhZGVyczogeyAuLi5oZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnMgfSxcbiAgfSk7XG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIHRocm93IG5ldyBFcnJvcihgS25hY2sgQVBJIEVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke2Vycm9yfWApO1xuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VUVElOR1Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNldHRpbmdzKCkge1xuICBjb25zdCBkYXRhID0gYXdhaXQga25hY2tSZXF1ZXN0KGAvb2JqZWN0cy8ke09CSkVDVFMuc2V0dGluZ3N9L3JlY29yZHNgKTtcbiAgcmV0dXJuIGRhdGEucmVjb3Jkc1swXSB8fCBudWxsO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBVU0VSU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5RW1haWwoZW1haWwpIHtcbiAgY29uc3QgZmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7XG4gICAgbWF0Y2g6ICdhbmQnLFxuICAgIHJ1bGVzOiBbeyBmaWVsZDogJ2ZpZWxkXzU3Jywgb3BlcmF0b3I6ICdpcycsIHZhbHVlOiBlbWFpbCB9XVxuICB9KSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy51c2Vyc30vcmVjb3Jkcz9maWx0ZXJzPSR7ZmlsdGVyc31gKTtcbiAgXG4gIGlmIChkYXRhLnJlY29yZHNbMF0pIHtcbiAgICAvLyBNYXAgS25hY2sgZmllbGRzIHRvIGZyaWVuZGx5IG5hbWVzXG4gICAgY29uc3QgdXNlciA9IGRhdGEucmVjb3Jkc1swXTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBlbWFpbDogdXNlci5maWVsZF81N19yYXc/LmVtYWlsIHx8IHVzZXIuZmllbGRfNTdfcmF3IHx8IHVzZXIuZmllbGRfNTc/LnJlcGxhY2U/LigvPFtePl0qPi9nLCAnJykgfHwgdXNlci5maWVsZF81NyxcbiAgICAgIHBhc3N3b3JkOiB1c2VyLmZpZWxkXzU4LFxuICAgICAgcm9sZTogdXNlci5maWVsZF81OSxcbiAgICAgIG5hbWU6IHVzZXIuZmllbGRfNjAsXG4gICAgICB2ZW5tb19oYW5kbGU6IHVzZXIuZmllbGRfNjEsXG4gICAgICBwaG9uZTogdXNlci5maWVsZF82MixcbiAgICAgIHN0YXR1czogdXNlci5maWVsZF82MyxcbiAgICB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5SWQoaWQpIHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGtuYWNrUmVxdWVzdChgL29iamVjdHMvJHtPQkpFQ1RTLnVzZXJzfS9yZWNvcmRzLyR7aWR9YCk7XG4gIHJldHVybiB7XG4gICAgaWQ6IHVzZXIuaWQsXG4gICAgZW1haWw6IHVzZXIuZmllbGRfNTdfcmF3Py5lbWFpbCB8fCB1c2VyLmZpZWxkXzU3X3JhdyB8fCB1c2VyLmZpZWxkXzU3Py5yZXBsYWNlPy4oLzxbXj5dKj4vZywgJycpIHx8IHVzZXIuZmllbGRfNTcsXG4gICAgcGFzc3dvcmQ6IHVzZXIuZmllbGRfNTgsXG4gICAgcm9sZTogdXNlci5maWVsZF81OSxcbiAgICBuYW1lOiB1c2VyLmZpZWxkXzYwLFxuICAgIHZlbm1vX2hhbmRsZTogdXNlci5maWVsZF82MSxcbiAgICBwaG9uZTogdXNlci5maWVsZF82MixcbiAgICBzdGF0dXM6IHVzZXIuZmllbGRfNjMsXG4gIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGtuYWNrUmVxdWVzdChgL29iamVjdHMvJHtPQkpFQ1RTLnVzZXJzfS9yZWNvcmRzP3Jvd3NfcGVyX3BhZ2U9MTAwMGApO1xuICByZXR1cm4gZGF0YS5yZWNvcmRzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcih1c2VyRGF0YSkge1xuICByZXR1cm4ga25hY2tSZXF1ZXN0KGAvb2JqZWN0cy8ke09CSkVDVFMudXNlcnN9L3JlY29yZHNgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXIoaWQsIHVzZXJEYXRhKSB7XG4gIHJldHVybiBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy51c2Vyc30vcmVjb3Jkcy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6ICdQVVQnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSxcbiAgfSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFJBRkZMRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gSGVscGVyIHRvIHBhcnNlIEtuYWNrIGN1cnJlbmN5IHZhbHVlcyBcbi8vIEtuYWNrIHJldHVybnMgY3VycmVuY3kgYXMgXCIkMS4wMFwiIHN0cmluZyBPUiBhcyByYXcgbnVtYmVyIE9SIGFzIG9iamVjdCB3aXRoIHJhdyB2YWx1ZVxuZnVuY3Rpb24gcGFyc2VDdXJyZW5jeSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gMDtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHJldHVybiB2YWx1ZTtcbiAgLy8gSWYgaXQncyBhbiBvYmplY3Qgd2l0aCBhIHJhdyB2YWx1ZSAoS25hY2sgc29tZXRpbWVzIGRvZXMgdGhpcylcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICBpZiAodmFsdWUucmF3ICE9PSB1bmRlZmluZWQpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlLnJhdykgfHwgMDtcbiAgICBpZiAodmFsdWUudmFsdWUgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHBhcnNlRmxvYXQoU3RyaW5nKHZhbHVlLnZhbHVlKS5yZXBsYWNlKC9bJCxdL2csICcnKSkgfHwgMDtcbiAgfVxuICAvLyBSZW1vdmUgJCBhbmQgY29tbWFzLCB0aGVuIHBhcnNlXG4gIGNvbnN0IGNsZWFuZWQgPSBTdHJpbmcodmFsdWUpLnJlcGxhY2UoL1skLF0vZywgJycpO1xuICBjb25zdCBwYXJzZWQgPSBwYXJzZUZsb2F0KGNsZWFuZWQpO1xuICByZXR1cm4gaXNOYU4ocGFyc2VkKSA/IDAgOiBwYXJzZWQ7XG59XG5cbi8vIEhlbHBlciB0byBtYXAgS25hY2sgcmFmZmxlIHJlY29yZCB0byBmcmllbmRseSBuYW1lc1xuZnVuY3Rpb24gbWFwUmFmZmxlRmllbGRzKHJlY29yZCkge1xuICBpZiAoIXJlY29yZCkgcmV0dXJuIG51bGw7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJlY29yZC5pZCxcbiAgICByYWZmbGVfbmFtZTogcmVjb3JkLmZpZWxkXzExNyxcbiAgICBiZW5lZmljaWFyeV9uYW1lOiByZWNvcmQuZmllbGRfNjQsXG4gICAgYmVuZWZpY2lhcnlfdHlwZTogcmVjb3JkLmZpZWxkXzY1LFxuICAgIGJlbmVmaWNpYXJ5X3Zlbm1vOiByZWNvcmQuZmllbGRfMTE4LFxuICAgIC8vIFRyeSByYXcgdmFsdWUgZmlyc3QsIHRoZW4gZm9ybWF0dGVkXG4gICAgdGlja2V0X3ByaWNlOiBwYXJzZUN1cnJlbmN5KHJlY29yZC5maWVsZF82Nl9yYXcgPz8gcmVjb3JkLmZpZWxkXzY2KSxcbiAgICBtYXhfdGlja2V0czogcGFyc2VJbnQocmVjb3JkLmZpZWxkXzY3X3JhdyA/PyByZWNvcmQuZmllbGRfNjcpIHx8IDAsXG4gICAgdGlja2V0c19zb2xkOiBwYXJzZUludChyZWNvcmQuZmllbGRfNjhfcmF3ID8/IHJlY29yZC5maWVsZF82OCkgfHwgMCxcbiAgICBzdGF0dXM6IHJlY29yZC5maWVsZF82OSxcbiAgICBkcmF3X3RyaWdnZXI6IHJlY29yZC5maWVsZF83MCB8fCAnTWFudWFsJyxcbiAgICBkcmF3X3RpbWU6IHJlY29yZC5maWVsZF83MSxcbiAgICBkcmF3X3RpY2tldF9jb3VudDogcGFyc2VJbnQocmVjb3JkLmZpZWxkXzcyX3JhdyA/PyByZWNvcmQuZmllbGRfNzIpIHx8IDAsXG4gICAgaXNfcHVibGljOiByZWNvcmQuZmllbGRfNzMgPT09IHRydWUgfHwgcmVjb3JkLmZpZWxkXzczID09PSAnWWVzJyB8fCByZWNvcmQuZmllbGRfNzMgPT09ICd5ZXMnLFxuICAgIHRpY2tldF9wcmVmaXg6IHJlY29yZC5maWVsZF83NCxcbiAgICBvcmdhbml6ZXJfdmVubW86IHJlY29yZC5maWVsZF83NSxcbiAgICBsb2dvOiByZWNvcmQuZmllbGRfNzYsXG4gICAgc3RhdGVfcmVzdHJpY3Rpb25zOiByZWNvcmQuZmllbGRfNzcsXG4gICAgb3duZXJfcHJpbWU6IHBhcnNlSW50KHJlY29yZC5maWVsZF83OF9yYXcgPz8gcmVjb3JkLmZpZWxkXzc4KSB8fCAxMSxcbiAgICBtaW5fdGlja2V0c19lbmFibGVkOiByZWNvcmQuZmllbGRfNzkgPT09IHRydWUgfHwgcmVjb3JkLmZpZWxkXzc5ID09PSAnWWVzJyB8fCByZWNvcmQuZmllbGRfNzkgPT09ICd5ZXMnLFxuICAgIG1pbl90aWNrZXRzOiBwYXJzZUludChyZWNvcmQuZmllbGRfODBfcmF3ID8/IHJlY29yZC5maWVsZF84MCkgfHwgMTEsXG4gICAgcmVkcmF3X2NvdW50OiBwYXJzZUludChyZWNvcmQuZmllbGRfODFfcmF3ID8/IHJlY29yZC5maWVsZF84MSkgfHwgMCxcbiAgICBkcmF3bl9hdDogcmVjb3JkLmZpZWxkXzgyLFxuICAgIG9yZ2FuaXplcjogcmVjb3JkLmZpZWxkXzgzX3Jhdz8uWzBdPy5pZCB8fCByZWNvcmQuZmllbGRfODMsXG4gICAgd2lubmluZ190aWNrZXQ6IHJlY29yZC5maWVsZF84NF9yYXc/LlswXT8uaWQgfHwgcmVjb3JkLmZpZWxkXzg0LFxuICAgIHBheW91dF9jb25maXJtZWQ6IHJlY29yZC5maWVsZF84NSA9PT0gdHJ1ZSB8fCByZWNvcmQuZmllbGRfODUgPT09ICdZZXMnIHx8IHJlY29yZC5maWVsZF84NSA9PT0gJ3llcycsXG4gICAgcGF5b3V0X2NvbmZpcm1lZF9hdDogcmVjb3JkLmZpZWxkXzg2LFxuICAgIGphY2twb3RfY3VycmVudDogcmVjb3JkLmZpZWxkXzg3LFxuICAgIHRpY2tldHNfcmVtYWluaW5nOiByZWNvcmQuZmllbGRfODgsXG4gICAgc3VnZ2VzdGVkX21heDogcmVjb3JkLmZpZWxkXzg5LFxuICAgIHJlZHJhd3NfcmVtYWluaW5nOiByZWNvcmQuZmllbGRfOTAsXG4gIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSYWZmbGVzKGZpbHRlcnMgPSB7fSkge1xuICBsZXQgZW5kcG9pbnQgPSBgL29iamVjdHMvJHtPQkpFQ1RTLnJhZmZsZXN9L3JlY29yZHM/c29ydF9maWVsZD1maWVsZF82NCZzb3J0X29yZGVyPWRlc2NgO1xuICBcbiAgaWYgKGZpbHRlcnMuc3RhdHVzKSB7XG4gICAgY29uc3QgZmlsdGVyT2JqID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG1hdGNoOiAnYW5kJyxcbiAgICAgIHJ1bGVzOiBbeyBmaWVsZDogJ2ZpZWxkXzY5Jywgb3BlcmF0b3I6ICdpcycsIHZhbHVlOiBmaWx0ZXJzLnN0YXR1cyB9XVxuICAgIH0pKTtcbiAgICBlbmRwb2ludCArPSBgJmZpbHRlcnM9JHtmaWx0ZXJPYmp9YDtcbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBrbmFja1JlcXVlc3QoZW5kcG9pbnQpO1xuICByZXR1cm4gZGF0YS5yZWNvcmRzLm1hcChtYXBSYWZmbGVGaWVsZHMpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlUHVibGljUmFmZmxlcygpIHtcbiAgY29uc3QgZmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7XG4gICAgbWF0Y2g6ICdhbmQnLFxuICAgIHJ1bGVzOiBbXG4gICAgICB7IGZpZWxkOiAnZmllbGRfNjknLCBvcGVyYXRvcjogJ2lzJywgdmFsdWU6ICdBY3RpdmUnIH0sXG4gICAgICB7IGZpZWxkOiAnZmllbGRfNzMnLCBvcGVyYXRvcjogJ2lzJywgdmFsdWU6IHRydWUgfVxuICAgIF1cbiAgfSkpO1xuICBjb25zdCBkYXRhID0gYXdhaXQga25hY2tSZXF1ZXN0KGAvb2JqZWN0cy8ke09CSkVDVFMucmFmZmxlc30vcmVjb3Jkcz9maWx0ZXJzPSR7ZmlsdGVyc31gKTtcbiAgcmV0dXJuIGRhdGEucmVjb3Jkcy5tYXAobWFwUmFmZmxlRmllbGRzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJhZmZsZUJ5SWQoaWQsIGRlYnVnID0gZmFsc2UpIHtcbiAgY29uc3QgcmVjb3JkID0gYXdhaXQga25hY2tSZXF1ZXN0KGAvb2JqZWN0cy8ke09CSkVDVFMucmFmZmxlc30vcmVjb3Jkcy8ke2lkfWApO1xuICBpZiAoZGVidWcpIHtcbiAgICAvLyBSZXR1cm4gcmF3IEtuYWNrIGRhdGEgZm9yIGRlYnVnZ2luZ1xuICAgIHJldHVybiB7IF9yYXc6IHJlY29yZCwgX21hcHBlZDogbWFwUmFmZmxlRmllbGRzKHJlY29yZCkgfTtcbiAgfVxuICByZXR1cm4gbWFwUmFmZmxlRmllbGRzKHJlY29yZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSYWZmbGVzQnlPcmdhbml6ZXIob3JnYW5pemVySWQpIHtcbiAgY29uc3QgZmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7XG4gICAgbWF0Y2g6ICdhbmQnLFxuICAgIHJ1bGVzOiBbeyBmaWVsZDogJ2ZpZWxkXzgzJywgb3BlcmF0b3I6ICdpcycsIHZhbHVlOiBvcmdhbml6ZXJJZCB9XVxuICB9KSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy5yYWZmbGVzfS9yZWNvcmRzP2ZpbHRlcnM9JHtmaWx0ZXJzfWApO1xuICByZXR1cm4gZGF0YS5yZWNvcmRzLm1hcChtYXBSYWZmbGVGaWVsZHMpO1xufVxuXG4vLyBIZWxwZXIgdG8gbWFwIGZyaWVuZGx5IHJhZmZsZSBuYW1lcyBiYWNrIHRvIEtuYWNrIGZpZWxkIElEc1xuZnVuY3Rpb24gbWFwUmFmZmxlVG9LbmFjayhkYXRhKSB7XG4gIGNvbnN0IG1hcHBpbmcgPSB7XG4gICAgcmFmZmxlX25hbWU6ICdmaWVsZF8xMTcnLFxuICAgIGJlbmVmaWNpYXJ5X25hbWU6ICdmaWVsZF82NCcsXG4gICAgYmVuZWZpY2lhcnlfdHlwZTogJ2ZpZWxkXzY1JyxcbiAgICBiZW5lZmljaWFyeV92ZW5tbzogJ2ZpZWxkXzExOCcsXG4gICAgdGlja2V0X3ByaWNlOiAnZmllbGRfNjYnLFxuICAgIG1heF90aWNrZXRzOiAnZmllbGRfNjcnLFxuICAgIHRpY2tldHNfc29sZDogJ2ZpZWxkXzY4JyxcbiAgICBzdGF0dXM6ICdmaWVsZF82OScsXG4gICAgZHJhd190cmlnZ2VyOiAnZmllbGRfNzAnLFxuICAgIGRyYXdfdGltZTogJ2ZpZWxkXzcxJyxcbiAgICBkcmF3X3RpY2tldF9jb3VudDogJ2ZpZWxkXzcyJyxcbiAgICBpc19wdWJsaWM6ICdmaWVsZF83MycsXG4gICAgdGlja2V0X3ByZWZpeDogJ2ZpZWxkXzc0JyxcbiAgICBvcmdhbml6ZXJfdmVubW86ICdmaWVsZF83NScsXG4gICAgbG9nbzogJ2ZpZWxkXzc2JyxcbiAgICBzdGF0ZV9yZXN0cmljdGlvbnM6ICdmaWVsZF83NycsXG4gICAgb3duZXJfcHJpbWU6ICdmaWVsZF83OCcsXG4gICAgbWluX3RpY2tldHNfZW5hYmxlZDogJ2ZpZWxkXzc5JyxcbiAgICBtaW5fdGlja2V0czogJ2ZpZWxkXzgwJyxcbiAgICByZWRyYXdfY291bnQ6ICdmaWVsZF84MScsXG4gICAgZHJhd25fYXQ6ICdmaWVsZF84MicsXG4gICAgb3JnYW5pemVyOiAnZmllbGRfODMnLFxuICAgIHdpbm5pbmdfdGlja2V0OiAnZmllbGRfODQnLFxuICAgIHBheW91dF9jb25maXJtZWQ6ICdmaWVsZF84NScsXG4gICAgcGF5b3V0X2NvbmZpcm1lZF9hdDogJ2ZpZWxkXzg2JyxcbiAgfTtcbiAgXG4gIC8vIENvbm5lY3Rpb24gZmllbGRzIHRoYXQgbmVlZCBhcnJheSBmb3JtYXRcbiAgY29uc3QgY29ubmVjdGlvbkZpZWxkcyA9IFsnb3JnYW5pemVyJywgJ3dpbm5pbmdfdGlja2V0J107XG4gIFxuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICBpZiAobWFwcGluZ1trZXldKSB7XG4gICAgICAvLyBDb25uZWN0aW9uIGZpZWxkcyBuZWVkIHRvIGJlIHNlbnQgYXMgYXJyYXkgb2YgSURzXG4gICAgICBpZiAoY29ubmVjdGlvbkZpZWxkcy5pbmNsdWRlcyhrZXkpICYmIHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFttYXBwaW5nW2tleV1dID0gW3ZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFttYXBwaW5nW2tleV1dID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSYWZmbGUocmFmZmxlRGF0YSkge1xuICBjb25zdCBrbmFja0RhdGEgPSBtYXBSYWZmbGVUb0tuYWNrKHJhZmZsZURhdGEpO1xuICByZXR1cm4ga25hY2tSZXF1ZXN0KGAvb2JqZWN0cy8ke09CSkVDVFMucmFmZmxlc30vcmVjb3Jkc2AsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShrbmFja0RhdGEpLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVJhZmZsZShpZCwgcmFmZmxlRGF0YSkge1xuICBjb25zdCBrbmFja0RhdGEgPSBtYXBSYWZmbGVUb0tuYWNrKHJhZmZsZURhdGEpO1xuICByZXR1cm4ga25hY2tSZXF1ZXN0KGAvb2JqZWN0cy8ke09CSkVDVFMucmFmZmxlc30vcmVjb3Jkcy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6ICdQVVQnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGtuYWNrRGF0YSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUmFmZmxlKGlkKSB7XG4gIHJldHVybiBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy5yYWZmbGVzfS9yZWNvcmRzLyR7aWR9YCwge1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gIH0pO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUSUNLRVRTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vIEhlbHBlciB0byBzdHJpcCBIVE1MIGZyb20gS25hY2sgZmllbGRzIChlbWFpbCBmaWVsZHMgcmV0dXJuIEhUTUwpXG5mdW5jdGlvbiBzdHJpcEh0bWwodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuICcnO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIC8vIFJlbW92ZSBIVE1MIHRhZ3NcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLzxbXj5dKj4vZywgJycpO1xufVxuXG4vLyBIZWxwZXIgdG8gbWFwIEtuYWNrIHRpY2tldCByZWNvcmQgdG8gZnJpZW5kbHkgbmFtZXNcbmZ1bmN0aW9uIG1hcFRpY2tldEZpZWxkcyhyZWNvcmQpIHtcbiAgaWYgKCFyZWNvcmQpIHJldHVybiBudWxsO1xuICBcbiAgLy8gRXh0cmFjdCBlbWFpbCAtIEtuYWNrIHJldHVybnMgSFRNTCBsaWtlIDxhIGhyZWY9XCJtYWlsdG86eEB5LmNvbVwiPnhAeS5jb208L2E+XG4gIGxldCBlbWFpbCA9IHJlY29yZC5maWVsZF85NF9yYXc/LmVtYWlsIHx8IHJlY29yZC5maWVsZF85NF9yYXcgfHwgcmVjb3JkLmZpZWxkXzk0IHx8ICcnO1xuICBlbWFpbCA9IHN0cmlwSHRtbChlbWFpbCk7XG4gIFxuICByZXR1cm4ge1xuICAgIGlkOiByZWNvcmQuaWQsXG4gICAgcmFmZmxlOiByZWNvcmQuZmllbGRfOTFfcmF3Py5bMF0/LmlkIHx8IHJlY29yZC5maWVsZF85MSxcbiAgICB0aWNrZXRfbnVtYmVyOiByZWNvcmQuZmllbGRfOTIsXG4gICAgc2VxdWVuY2VfbnVtYmVyOiBwYXJzZUludChyZWNvcmQuZmllbGRfOTMpIHx8IDAsXG4gICAgcGxheWVyX2VtYWlsOiBlbWFpbCxcbiAgICBwbGF5ZXJfdmVubW86IHN0cmlwSHRtbChyZWNvcmQuZmllbGRfOTUpLFxuICAgIHZlbm1vX25vdGU6IHJlY29yZC5maWVsZF85NixcbiAgICB2ZW5tb190eG5faWQ6IHJlY29yZC5maWVsZF85NyxcbiAgICBzdGF0dXM6IHJlY29yZC5maWVsZF85OCB8fCAnUGVuZGluZycsXG4gICAgcGF5bWVudF9yZWNpcGllbnQ6IHJlY29yZC5maWVsZF85OSxcbiAgICBjcmVhdGVkX2F0OiByZWNvcmQuZmllbGRfMTAwLFxuICAgIHZlcmlmaWVkX2F0OiByZWNvcmQuZmllbGRfMTAxLFxuICB9O1xufVxuXG4vLyBIZWxwZXIgdG8gbWFwIGZyaWVuZGx5IHRpY2tldCBuYW1lcyBiYWNrIHRvIEtuYWNrIGZpZWxkIElEc1xuZnVuY3Rpb24gbWFwVGlja2V0VG9LbmFjayhkYXRhKSB7XG4gIGNvbnN0IG1hcHBpbmcgPSB7XG4gICAgcmFmZmxlOiAnZmllbGRfOTEnLCAgICAgICAgICAgLy8gQ29ubmVjdGlvbiB0byBSYWZmbGVzXG4gICAgdGlja2V0X251bWJlcjogJ2ZpZWxkXzkyJyxcbiAgICBzZXF1ZW5jZV9udW1iZXI6ICdmaWVsZF85MycsXG4gICAgcGxheWVyX2VtYWlsOiAnZmllbGRfOTQnLFxuICAgIHBsYXllcl92ZW5tbzogJ2ZpZWxkXzk1JyxcbiAgICB2ZW5tb19ub3RlOiAnZmllbGRfOTYnLFxuICAgIHZlbm1vX3R4bl9pZDogJ2ZpZWxkXzk3JyxcbiAgICBzdGF0dXM6ICdmaWVsZF85OCcsXG4gICAgcGF5bWVudF9yZWNpcGllbnQ6ICdmaWVsZF85OScsXG4gICAgLy8gZmllbGRfMTAwID0gY3JlYXRlZF9hdCAoYXV0by1tYW5hZ2VkIGJ5IEtuYWNrKVxuICAgIC8vIGZpZWxkXzEwMSA9IHZlcmlmaWVkX2F0XG4gIH07XG4gIFxuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICBpZiAobWFwcGluZ1trZXldICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIC8vIENvbm5lY3Rpb24gZmllbGRzIChyYWZmbGUpIG5lZWQgdG8gYmUgc2VudCBhcyBhcnJheSBvZiBJRHNcbiAgICAgIGlmIChrZXkgPT09ICdyYWZmbGUnICYmIHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdFttYXBwaW5nW2tleV1dID0gW3ZhbHVlXTsgLy8gS25hY2sgZXhwZWN0cyBhcnJheSBmb3IgY29ubmVjdGlvbnNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFttYXBwaW5nW2tleV1dID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUaWNrZXRzQnlSYWZmbGUocmFmZmxlSWQpIHtcbiAgY29uc3QgZmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7XG4gICAgbWF0Y2g6ICdhbmQnLFxuICAgIHJ1bGVzOiBbeyBmaWVsZDogJ2ZpZWxkXzkxJywgb3BlcmF0b3I6ICdpcycsIHZhbHVlOiByYWZmbGVJZCB9XVxuICB9KSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy50aWNrZXRzfS9yZWNvcmRzP2ZpbHRlcnM9JHtmaWx0ZXJzfWApO1xuICByZXR1cm4gZGF0YS5yZWNvcmRzLm1hcChtYXBUaWNrZXRGaWVsZHMpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGlja2V0QnlOdW1iZXIodGlja2V0TnVtYmVyKSB7XG4gIGNvbnN0IGZpbHRlcnMgPSBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe1xuICAgIG1hdGNoOiAnYW5kJyxcbiAgICBydWxlczogW3sgZmllbGQ6ICdmaWVsZF85MicsIG9wZXJhdG9yOiAnaXMnLCB2YWx1ZTogdGlja2V0TnVtYmVyIH1dXG4gIH0pKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGtuYWNrUmVxdWVzdChgL29iamVjdHMvJHtPQkpFQ1RTLnRpY2tldHN9L3JlY29yZHM/ZmlsdGVycz0ke2ZpbHRlcnN9YCk7XG4gIHJldHVybiBkYXRhLnJlY29yZHNbMF0gPyBtYXBUaWNrZXRGaWVsZHMoZGF0YS5yZWNvcmRzWzBdKSA6IG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUaWNrZXRCeUlkKGlkKSB7XG4gIGNvbnN0IHJlY29yZCA9IGF3YWl0IGtuYWNrUmVxdWVzdChgL29iamVjdHMvJHtPQkpFQ1RTLnRpY2tldHN9L3JlY29yZHMvJHtpZH1gKTtcbiAgcmV0dXJuIG1hcFRpY2tldEZpZWxkcyhyZWNvcmQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVuZGluZ1RpY2tldHMocmFmZmxlSWQpIHtcbiAgY29uc3QgZmlsdGVycyA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7XG4gICAgbWF0Y2g6ICdhbmQnLFxuICAgIHJ1bGVzOiBbXG4gICAgICB7IGZpZWxkOiAnZmllbGRfOTEnLCBvcGVyYXRvcjogJ2lzJywgdmFsdWU6IHJhZmZsZUlkIH0sXG4gICAgICB7IGZpZWxkOiAnZmllbGRfOTgnLCBvcGVyYXRvcjogJ2lzJywgdmFsdWU6ICdQZW5kaW5nJyB9XG4gICAgXVxuICB9KSk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy50aWNrZXRzfS9yZWNvcmRzP2ZpbHRlcnM9JHtmaWx0ZXJzfWApO1xuICByZXR1cm4gZGF0YS5yZWNvcmRzLm1hcChtYXBUaWNrZXRGaWVsZHMpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RWxpZ2libGVUaWNrZXRzKHJhZmZsZUlkKSB7XG4gIC8vIFRpY2tldHMgdGhhdCBhcmUgVmVyaWZpZWQgb3IgQ29uZmlybWVkXG4gIGNvbnN0IGZpbHRlcnMgPSBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe1xuICAgIG1hdGNoOiAnYW5kJyxcbiAgICBydWxlczogW1xuICAgICAgeyBmaWVsZDogJ2ZpZWxkXzkxJywgb3BlcmF0b3I6ICdpcycsIHZhbHVlOiByYWZmbGVJZCB9LFxuICAgICAgeyBmaWVsZDogJ2ZpZWxkXzk4Jywgb3BlcmF0b3I6ICdpcyBub3QnLCB2YWx1ZTogJ1BlbmRpbmcnIH0sXG4gICAgICB7IGZpZWxkOiAnZmllbGRfOTgnLCBvcGVyYXRvcjogJ2lzIG5vdCcsIHZhbHVlOiAnSW52YWxpZCcgfVxuICAgIF1cbiAgfSkpO1xuICBjb25zdCBkYXRhID0gYXdhaXQga25hY2tSZXF1ZXN0KGAvb2JqZWN0cy8ke09CSkVDVFMudGlja2V0c30vcmVjb3Jkcz9maWx0ZXJzPSR7ZmlsdGVyc31gKTtcbiAgcmV0dXJuIGRhdGEucmVjb3Jkcy5tYXAobWFwVGlja2V0RmllbGRzKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRpY2tldCh0aWNrZXREYXRhKSB7XG4gIGNvbnN0IGtuYWNrRGF0YSA9IG1hcFRpY2tldFRvS25hY2sodGlja2V0RGF0YSk7XG4gIHJldHVybiBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy50aWNrZXRzfS9yZWNvcmRzYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGtuYWNrRGF0YSksXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVGlja2V0KGlkLCB0aWNrZXREYXRhKSB7XG4gIGNvbnN0IGtuYWNrRGF0YSA9IG1hcFRpY2tldFRvS25hY2sodGlja2V0RGF0YSk7XG4gIHJldHVybiBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy50aWNrZXRzfS9yZWNvcmRzLyR7aWR9YCwge1xuICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoa25hY2tEYXRhKSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb3VudFRpY2tldHNCeVJhZmZsZShyYWZmbGVJZCkge1xuICBjb25zdCB0aWNrZXRzID0gYXdhaXQgZ2V0VGlja2V0c0J5UmFmZmxlKHJhZmZsZUlkKTtcbiAgcmV0dXJuIHRpY2tldHMubGVuZ3RoO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEUkFXIExPR1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RHJhd0xvZ0J5UmFmZmxlKHJhZmZsZUlkKSB7XG4gIGNvbnN0IGZpbHRlcnMgPSBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe1xuICAgIG1hdGNoOiAnYW5kJyxcbiAgICBydWxlczogW3sgZmllbGQ6ICdmaWVsZF9yYWZmbGUnLCBvcGVyYXRvcjogJ2lzJywgdmFsdWU6IHJhZmZsZUlkIH1dXG4gIH0pKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGtuYWNrUmVxdWVzdChgL29iamVjdHMvJHtPQkpFQ1RTLmRyYXdMb2d9L3JlY29yZHM/ZmlsdGVycz0ke2ZpbHRlcnN9JnNvcnRfZmllbGQ9ZmllbGRfZHJhd19udW1iZXImc29ydF9vcmRlcj1hc2NgKTtcbiAgcmV0dXJuIGRhdGEucmVjb3Jkcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURyYXdMb2dFbnRyeShsb2dEYXRhKSB7XG4gIHJldHVybiBrbmFja1JlcXVlc3QoYC9vYmplY3RzLyR7T0JKRUNUUy5kcmF3TG9nfS9yZWNvcmRzYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGxvZ0RhdGEpLFxuICB9KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVFJBTlNBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvbkRhdGEpIHtcbiAgcmV0dXJuIGtuYWNrUmVxdWVzdChgL29iamVjdHMvJHtPQkpFQ1RTLnRyYW5zYWN0aW9uc30vcmVjb3Jkc2AsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0cmFuc2FjdGlvbkRhdGEpLFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVRyYW5zYWN0aW9uKGlkLCB0cmFuc2FjdGlvbkRhdGEpIHtcbiAgcmV0dXJuIGtuYWNrUmVxdWVzdChgL29iamVjdHMvJHtPQkpFQ1RTLnRyYW5zYWN0aW9uc30vcmVjb3Jkcy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6ICdQVVQnLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRyYW5zYWN0aW9uRGF0YSksXG4gIH0pO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBGSUVMRCBNQVBQSU5HIEhFTFBFUlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBNYXBzIGZyaWVuZGx5IGZpZWxkIG5hbWVzIHRvIEtuYWNrIGZpZWxkIElEc1xuICogQmFzZWQgb24gYWN0dWFsIEtuYWNrIHNjaGVtYSAtIEphbnVhcnkgMjAyNVxuICovXG5leHBvcnQgY29uc3QgRklFTERfTUFQID0ge1xuICAvLyBTZXR0aW5ncyBmaWVsZHMgKGZpZWxkXzQ5IC0gZmllbGRfNTYpXG4gIHNldHRpbmdzOiB7XG4gICAgb3duZXJfdmVubW86ICdmaWVsZF80OScsXG4gICAgb3duZXJfcHJpbWVfZGVmYXVsdDogJ2ZpZWxkXzUwJyxcbiAgICByZXN0cmljdGVkX3N0YXRlczogJ2ZpZWxkXzUxJyxcbiAgICByZWZ1bmRfd2luZG93X2RheXM6ICdmaWVsZF81MicsXG4gICAgcGF5b3V0X2RlYWRsaW5lX2hvdXJzOiAnZmllbGRfNTMnLFxuICAgIG1heF9yZWRyYXdzOiAnZmllbGRfNTQnLFxuICAgIHN1cHBvcnRfZW1haWw6ICdmaWVsZF81NScsXG4gICAgcGxhdGZvcm1fbmFtZTogJ2ZpZWxkXzU2JyxcbiAgfSxcbiAgLy8gVXNlciBmaWVsZHMgKGZpZWxkXzU3IC0gZmllbGRfNjMpXG4gIHVzZXJzOiB7XG4gICAgZW1haWw6ICdmaWVsZF81NycsXG4gICAgcGFzc3dvcmQ6ICdmaWVsZF81OCcsXG4gICAgcm9sZTogJ2ZpZWxkXzU5JyxcbiAgICBuYW1lOiAnZmllbGRfNjAnLFxuICAgIHZlbm1vX2hhbmRsZTogJ2ZpZWxkXzYxJyxcbiAgICBwaG9uZTogJ2ZpZWxkXzYyJyxcbiAgICBzdGF0dXM6ICdmaWVsZF82MycsXG4gIH0sXG4gIC8vIFJhZmZsZSBmaWVsZHMgKGZpZWxkXzY0IC0gZmllbGRfOTAsIGZpZWxkXzExNy0xMTgpXG4gIHJhZmZsZXM6IHtcbiAgICByYWZmbGVfbmFtZTogJ2ZpZWxkXzExNycsXG4gICAgYmVuZWZpY2lhcnlfbmFtZTogJ2ZpZWxkXzY0JyxcbiAgICBiZW5lZmljaWFyeV90eXBlOiAnZmllbGRfNjUnLFxuICAgIGJlbmVmaWNpYXJ5X3Zlbm1vOiAnZmllbGRfMTE4JyxcbiAgICB0aWNrZXRfcHJpY2U6ICdmaWVsZF82NicsXG4gICAgbWF4X3RpY2tldHM6ICdmaWVsZF82NycsXG4gICAgdGlja2V0c19zb2xkOiAnZmllbGRfNjgnLFxuICAgIHN0YXR1czogJ2ZpZWxkXzY5JyxcbiAgICBkcmF3X3RyaWdnZXI6ICdmaWVsZF83MCcsXG4gICAgZHJhd190aW1lOiAnZmllbGRfNzEnLFxuICAgIGRyYXdfdGlja2V0X2NvdW50OiAnZmllbGRfNzInLFxuICAgIGlzX3B1YmxpYzogJ2ZpZWxkXzczJyxcbiAgICB0aWNrZXRfcHJlZml4OiAnZmllbGRfNzQnLFxuICAgIG9yZ2FuaXplcl92ZW5tbzogJ2ZpZWxkXzc1JyxcbiAgICBsb2dvOiAnZmllbGRfNzYnLFxuICAgIHN0YXRlX3Jlc3RyaWN0aW9uczogJ2ZpZWxkXzc3JyxcbiAgICBvd25lcl9wcmltZTogJ2ZpZWxkXzc4JyxcbiAgICBtaW5fdGlja2V0c19lbmFibGVkOiAnZmllbGRfNzknLFxuICAgIG1pbl90aWNrZXRzOiAnZmllbGRfODAnLFxuICAgIHJlZHJhd19jb3VudDogJ2ZpZWxkXzgxJyxcbiAgICBkcmF3bl9hdDogJ2ZpZWxkXzgyJyxcbiAgICBvcmdhbml6ZXI6ICdmaWVsZF84MycsICAgICAgICAgICAvLyBDb25uZWN0aW9uIHRvIFVzZXJzXG4gICAgd2lubmluZ190aWNrZXQ6ICdmaWVsZF84NCcsICAgICAgLy8gQ29ubmVjdGlvbiB0byBUaWNrZXRzXG4gICAgcGF5b3V0X2NvbmZpcm1lZDogJ2ZpZWxkXzg1JyxcbiAgICBwYXlvdXRfY29uZmlybWVkX2F0OiAnZmllbGRfODYnLFxuICAgIC8vIENhbGN1bGF0ZWQvRXF1YXRpb24gZmllbGRzIChyZWFkLW9ubHkpXG4gICAgamFja3BvdF9jdXJyZW50OiAnZmllbGRfODcnLFxuICAgIHRpY2tldHNfcmVtYWluaW5nOiAnZmllbGRfODgnLFxuICAgIHN1Z2dlc3RlZF9tYXg6ICdmaWVsZF84OScsXG4gICAgcmVkcmF3c19yZW1haW5pbmc6ICdmaWVsZF85MCcsXG4gIH0sXG4gIC8vIFRpY2tldCBmaWVsZHMgKGZpZWxkXzkxIC0gZmllbGRfMTAxKVxuICB0aWNrZXRzOiB7XG4gICAgcmFmZmxlOiAnZmllbGRfOTEnLCAgICAgICAgICAgICAgLy8gQ29ubmVjdGlvbiB0byBSYWZmbGVzXG4gICAgdGlja2V0X251bWJlcjogJ2ZpZWxkXzkyJyxcbiAgICBzZXF1ZW5jZV9udW1iZXI6ICdmaWVsZF85MycsXG4gICAgcGxheWVyX2VtYWlsOiAnZmllbGRfOTQnLFxuICAgIHBsYXllcl92ZW5tbzogJ2ZpZWxkXzk1JyxcbiAgICB2ZW5tb19ub3RlOiAnZmllbGRfOTYnLFxuICAgIHZlbm1vX3R4bl9pZDogJ2ZpZWxkXzk3JyxcbiAgICBzdGF0dXM6ICdmaWVsZF85OCcsXG4gICAgcGF5bWVudF9yZWNpcGllbnQ6ICdmaWVsZF85OScsXG4gICAgY3JlYXRlZF9hdDogJ2ZpZWxkXzEwMCcsICAgICAgICAgLy8gQXV0by1tYW5hZ2VkIGRhdGVcbiAgICB2ZXJpZmllZF9hdDogJ2ZpZWxkXzEwMScsXG4gIH0sXG4gIC8vIERyYXcgTG9nIGZpZWxkcyAoZmllbGRfMTAyIC0gZmllbGRfMTA3KVxuICBkcmF3TG9nOiB7XG4gICAgcmFmZmxlOiAnZmllbGRfMTAyJywgICAgICAgICAgICAgLy8gQ29ubmVjdGlvbiB0byBSYWZmbGVzXG4gICAgdGlja2V0OiAnZmllbGRfMTAzJywgICAgICAgICAgICAgLy8gQ29ubmVjdGlvbiB0byBUaWNrZXRzXG4gICAgZHJhd19udW1iZXI6ICdmaWVsZF8xMDQnLFxuICAgIHJlc3VsdDogJ2ZpZWxkXzEwNScsXG4gICAgcmVhc29uOiAnZmllbGRfMTA2JyxcbiAgICB0aW1lc3RhbXA6ICdmaWVsZF8xMDcnLFxuICB9LFxuICAvLyBUcmFuc2FjdGlvbiBmaWVsZHMgKGZpZWxkXzEwOCAtIGZpZWxkXzExNilcbiAgdHJhbnNhY3Rpb25zOiB7XG4gICAgcmFmZmxlOiAnZmllbGRfMTA4JywgICAgICAgICAgICAgLy8gQ29ubmVjdGlvbiB0byBSYWZmbGVzXG4gICAgdGlja2V0OiAnZmllbGRfMTA5JywgICAgICAgICAgICAgLy8gQ29ubmVjdGlvbiB0byBUaWNrZXRzXG4gICAgdHlwZTogJ2ZpZWxkXzExMCcsXG4gICAgYW1vdW50OiAnZmllbGRfMTExJyxcbiAgICBmcm9tX3Zlbm1vOiAnZmllbGRfMTEyJyxcbiAgICB0b192ZW5tbzogJ2ZpZWxkXzExMycsXG4gICAgc3RhdHVzOiAnZmllbGRfMTE0JyxcbiAgICBjb25maXJtZWRfYXQ6ICdmaWVsZF8xMTUnLFxuICAgIG5vdGVzOiAnZmllbGRfMTE2JyxcbiAgfSxcbn07XG5cbmV4cG9ydCB7IE9CSkVDVFMgfTtcbiJdLCJuYW1lcyI6WyJLTkFDS19BUFBfSUQiLCJwcm9jZXNzIiwiZW52IiwiS05BQ0tfQVBJX0tFWSIsIkJBU0VfVVJMIiwiT0JKRUNUUyIsInNldHRpbmdzIiwidXNlcnMiLCJyYWZmbGVzIiwidGlja2V0cyIsImRyYXdMb2ciLCJ0cmFuc2FjdGlvbnMiLCJoZWFkZXJzIiwia25hY2tSZXF1ZXN0IiwiZW5kcG9pbnQiLCJvcHRpb25zIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiZXJyb3IiLCJ0ZXh0IiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwiZ2V0U2V0dGluZ3MiLCJkYXRhIiwicmVjb3JkcyIsImdldFVzZXJCeUVtYWlsIiwiZW1haWwiLCJmaWx0ZXJzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1hdGNoIiwicnVsZXMiLCJmaWVsZCIsIm9wZXJhdG9yIiwidmFsdWUiLCJ1c2VyIiwiaWQiLCJmaWVsZF81N19yYXciLCJmaWVsZF81NyIsInJlcGxhY2UiLCJwYXNzd29yZCIsImZpZWxkXzU4Iiwicm9sZSIsImZpZWxkXzU5IiwibmFtZSIsImZpZWxkXzYwIiwidmVubW9faGFuZGxlIiwiZmllbGRfNjEiLCJwaG9uZSIsImZpZWxkXzYyIiwiZmllbGRfNjMiLCJnZXRVc2VyQnlJZCIsImdldEFsbFVzZXJzIiwiY3JlYXRlVXNlciIsInVzZXJEYXRhIiwibWV0aG9kIiwiYm9keSIsInVwZGF0ZVVzZXIiLCJwYXJzZUN1cnJlbmN5IiwicmF3IiwidW5kZWZpbmVkIiwicGFyc2VGbG9hdCIsIlN0cmluZyIsImNsZWFuZWQiLCJwYXJzZWQiLCJpc05hTiIsIm1hcFJhZmZsZUZpZWxkcyIsInJlY29yZCIsInJhZmZsZV9uYW1lIiwiZmllbGRfMTE3IiwiYmVuZWZpY2lhcnlfbmFtZSIsImZpZWxkXzY0IiwiYmVuZWZpY2lhcnlfdHlwZSIsImZpZWxkXzY1IiwiYmVuZWZpY2lhcnlfdmVubW8iLCJmaWVsZF8xMTgiLCJ0aWNrZXRfcHJpY2UiLCJmaWVsZF82Nl9yYXciLCJmaWVsZF82NiIsIm1heF90aWNrZXRzIiwicGFyc2VJbnQiLCJmaWVsZF82N19yYXciLCJmaWVsZF82NyIsInRpY2tldHNfc29sZCIsImZpZWxkXzY4X3JhdyIsImZpZWxkXzY4IiwiZmllbGRfNjkiLCJkcmF3X3RyaWdnZXIiLCJmaWVsZF83MCIsImRyYXdfdGltZSIsImZpZWxkXzcxIiwiZHJhd190aWNrZXRfY291bnQiLCJmaWVsZF83Ml9yYXciLCJmaWVsZF83MiIsImlzX3B1YmxpYyIsImZpZWxkXzczIiwidGlja2V0X3ByZWZpeCIsImZpZWxkXzc0Iiwib3JnYW5pemVyX3Zlbm1vIiwiZmllbGRfNzUiLCJsb2dvIiwiZmllbGRfNzYiLCJzdGF0ZV9yZXN0cmljdGlvbnMiLCJmaWVsZF83NyIsIm93bmVyX3ByaW1lIiwiZmllbGRfNzhfcmF3IiwiZmllbGRfNzgiLCJtaW5fdGlja2V0c19lbmFibGVkIiwiZmllbGRfNzkiLCJtaW5fdGlja2V0cyIsImZpZWxkXzgwX3JhdyIsImZpZWxkXzgwIiwicmVkcmF3X2NvdW50IiwiZmllbGRfODFfcmF3IiwiZmllbGRfODEiLCJkcmF3bl9hdCIsImZpZWxkXzgyIiwib3JnYW5pemVyIiwiZmllbGRfODNfcmF3IiwiZmllbGRfODMiLCJ3aW5uaW5nX3RpY2tldCIsImZpZWxkXzg0X3JhdyIsImZpZWxkXzg0IiwicGF5b3V0X2NvbmZpcm1lZCIsImZpZWxkXzg1IiwicGF5b3V0X2NvbmZpcm1lZF9hdCIsImZpZWxkXzg2IiwiamFja3BvdF9jdXJyZW50IiwiZmllbGRfODciLCJ0aWNrZXRzX3JlbWFpbmluZyIsImZpZWxkXzg4Iiwic3VnZ2VzdGVkX21heCIsImZpZWxkXzg5IiwicmVkcmF3c19yZW1haW5pbmciLCJmaWVsZF85MCIsImdldFJhZmZsZXMiLCJmaWx0ZXJPYmoiLCJtYXAiLCJnZXRBY3RpdmVQdWJsaWNSYWZmbGVzIiwiZ2V0UmFmZmxlQnlJZCIsImRlYnVnIiwiX3JhdyIsIl9tYXBwZWQiLCJnZXRSYWZmbGVzQnlPcmdhbml6ZXIiLCJvcmdhbml6ZXJJZCIsIm1hcFJhZmZsZVRvS25hY2siLCJtYXBwaW5nIiwiY29ubmVjdGlvbkZpZWxkcyIsInJlc3VsdCIsImtleSIsIk9iamVjdCIsImVudHJpZXMiLCJpbmNsdWRlcyIsImNyZWF0ZVJhZmZsZSIsInJhZmZsZURhdGEiLCJrbmFja0RhdGEiLCJ1cGRhdGVSYWZmbGUiLCJkZWxldGVSYWZmbGUiLCJzdHJpcEh0bWwiLCJtYXBUaWNrZXRGaWVsZHMiLCJmaWVsZF85NF9yYXciLCJmaWVsZF85NCIsInJhZmZsZSIsImZpZWxkXzkxX3JhdyIsImZpZWxkXzkxIiwidGlja2V0X251bWJlciIsImZpZWxkXzkyIiwic2VxdWVuY2VfbnVtYmVyIiwiZmllbGRfOTMiLCJwbGF5ZXJfZW1haWwiLCJwbGF5ZXJfdmVubW8iLCJmaWVsZF85NSIsInZlbm1vX25vdGUiLCJmaWVsZF85NiIsInZlbm1vX3R4bl9pZCIsImZpZWxkXzk3IiwiZmllbGRfOTgiLCJwYXltZW50X3JlY2lwaWVudCIsImZpZWxkXzk5IiwiY3JlYXRlZF9hdCIsImZpZWxkXzEwMCIsInZlcmlmaWVkX2F0IiwiZmllbGRfMTAxIiwibWFwVGlja2V0VG9LbmFjayIsImdldFRpY2tldHNCeVJhZmZsZSIsInJhZmZsZUlkIiwiZ2V0VGlja2V0QnlOdW1iZXIiLCJ0aWNrZXROdW1iZXIiLCJnZXRUaWNrZXRCeUlkIiwiZ2V0UGVuZGluZ1RpY2tldHMiLCJnZXRFbGlnaWJsZVRpY2tldHMiLCJjcmVhdGVUaWNrZXQiLCJ0aWNrZXREYXRhIiwidXBkYXRlVGlja2V0IiwiY291bnRUaWNrZXRzQnlSYWZmbGUiLCJsZW5ndGgiLCJnZXREcmF3TG9nQnlSYWZmbGUiLCJjcmVhdGVEcmF3TG9nRW50cnkiLCJsb2dEYXRhIiwiY3JlYXRlVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbkRhdGEiLCJ1cGRhdGVUcmFuc2FjdGlvbiIsIkZJRUxEX01BUCIsIm93bmVyX3Zlbm1vIiwib3duZXJfcHJpbWVfZGVmYXVsdCIsInJlc3RyaWN0ZWRfc3RhdGVzIiwicmVmdW5kX3dpbmRvd19kYXlzIiwicGF5b3V0X2RlYWRsaW5lX2hvdXJzIiwibWF4X3JlZHJhd3MiLCJzdXBwb3J0X2VtYWlsIiwicGxhdGZvcm1fbmFtZSIsInRpY2tldCIsImRyYXdfbnVtYmVyIiwicmVhc29uIiwidGltZXN0YW1wIiwidHlwZSIsImFtb3VudCIsImZyb21fdmVubW8iLCJ0b192ZW5tbyIsImNvbmZpcm1lZF9hdCIsIm5vdGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/knack.js\n");

/***/ }),

/***/ "(rsc)/./lib/sendgrid.js":
/*!*************************!*\
  !*** ./lib/sendgrid.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendDrawingReport: () => (/* binding */ sendDrawingReport),\n/* harmony export */   sendPayoutNotification: () => (/* binding */ sendPayoutNotification),\n/* harmony export */   sendPayoutReminder: () => (/* binding */ sendPayoutReminder),\n/* harmony export */   sendTicketConfirmation: () => (/* binding */ sendTicketConfirmation),\n/* harmony export */   sendWinnerNotification: () => (/* binding */ sendWinnerNotification)\n/* harmony export */ });\n/* harmony import */ var _sendgrid_mail__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sendgrid/mail */ \"(rsc)/./node_modules/@sendgrid/mail/index.js\");\n/* harmony import */ var _sendgrid_mail__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_sendgrid_mail__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * SendGrid Email Functions\n * Handles all email notifications\n */ \n// Initialize SendGrid\n_sendgrid_mail__WEBPACK_IMPORTED_MODULE_0___default().setApiKey(process.env.SENDGRID_API_KEY);\nconst FROM_EMAIL = process.env.SENDGRID_FROM_EMAIL || \"noreply@fiddyfiddy.org\";\nconst FROM_NAME = process.env.SENDGRID_FROM_NAME || \"Fiddyfiddy\";\nconst SITE_URL = \"http://localhost:3000\" || 0;\n/**\n * Send an email\n */ async function sendEmail(to, subject, html, text = null) {\n    const msg = {\n        to,\n        from: {\n            email: FROM_EMAIL,\n            name: FROM_NAME\n        },\n        subject,\n        html,\n        text: text || html.replace(/<[^>]*>/g, \"\")\n    };\n    try {\n        await _sendgrid_mail__WEBPACK_IMPORTED_MODULE_0___default().send(msg);\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"SendGrid Error:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n/**\n * Send ticket confirmation email\n */ async function sendTicketConfirmation(ticket, raffle) {\n    const subject = `Your Fiddyfiddy Ticket: ${ticket.ticket_number}`;\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h1 style=\"color: #7c3aed;\"> You're in the raffle!</h1>\n      \n      <div style=\"background: #f3f4f6; padding: 20px; border-radius: 10px; margin: 20px 0;\">\n        <p style=\"margin: 0; font-size: 14px; color: #666;\">Ticket Number</p>\n        <p style=\"margin: 5px 0 0; font-size: 24px; font-weight: bold; color: #1f2937;\">${ticket.ticket_number}</p>\n      </div>\n      \n      <table style=\"width: 100%; border-collapse: collapse;\">\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Raffle</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; font-weight: bold;\">${raffle.beneficiary_name}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Current Jackpot</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; font-weight: bold; color: #10b981;\">$${raffle.jackpot_current || 0}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Drawing</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb;\">${getDrawInfo(raffle)}</td>\n        </tr>\n      </table>\n      \n      <div style=\"background: #fef3c7; border: 1px solid #f59e0b; padding: 15px; border-radius: 10px; margin: 20px 0;\">\n        <p style=\"margin: 0; color: #92400e;\">\n          <strong> Important:</strong> Your ticket is only valid if your payment is confirmed before the drawing. \n          If payment cannot be verified, your ticket will not be eligible and another ticket will be drawn.\n        </p>\n      </div>\n      \n      <p style=\"text-align: center; margin-top: 30px;\">\n        <a href=\"${SITE_URL}/ticket/${ticket.ticket_number}\" style=\"background: #7c3aed; color: white; padding: 12px 30px; border-radius: 8px; text-decoration: none; font-weight: bold;\">Check Ticket Status</a>\n      </p>\n      \n      <p style=\"color: #888; font-size: 12px; margin-top: 30px; text-align: center;\">Good luck! </p>\n      \n      <hr style=\"border: none; border-top: 1px solid #e5e7eb; margin: 30px 0;\">\n      <p style=\"color: #888; font-size: 12px; text-align: center;\">\n        Fiddyfiddy - 50/50 Digital Raffles<br>\n        <a href=\"${SITE_URL}\" style=\"color: #7c3aed;\">fiddyfiddy.org</a>\n      </p>\n    </div>\n  `;\n    return sendEmail(ticket.player_email, subject, html);\n}\n/**\n * Send winner notification\n */ async function sendWinnerNotification(ticket, raffle) {\n    const subject = ` YOU WON! Fiddyfiddy Raffle`;\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h1 style=\"color: #10b981; text-align: center;\"> CONGRATULATIONS!</h1>\n      \n      <p style=\"text-align: center; font-size: 18px;\">You won the <strong>${raffle.beneficiary_name}</strong> raffle!</p>\n      \n      <div style=\"background: #d1fae5; padding: 30px; border-radius: 10px; margin: 20px 0; text-align: center;\">\n        <p style=\"margin: 0; font-size: 14px; color: #065f46;\">Your Prize</p>\n        <p style=\"margin: 10px 0 0; font-size: 48px; font-weight: bold; color: #047857;\">$${raffle.jackpot_current}</p>\n      </div>\n      \n      <table style=\"width: 100%; border-collapse: collapse;\">\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Your Ticket</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; font-weight: bold;\">${ticket.ticket_number}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Your Venmo</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb;\">@${ticket.player_venmo}</td>\n        </tr>\n      </table>\n      \n      <div style=\"background: #eff6ff; border: 1px solid #3b82f6; padding: 15px; border-radius: 10px; margin: 20px 0;\">\n        <p style=\"margin: 0; color: #1e40af;\">\n          Your winnings will be sent to your Venmo <strong>@${ticket.player_venmo}</strong> within 48 hours.\n        </p>\n      </div>\n      \n      <p style=\"text-align: center; color: #666;\">Thank you for supporting <strong>${raffle.beneficiary_name}</strong>!</p>\n      \n      <hr style=\"border: none; border-top: 1px solid #e5e7eb; margin: 30px 0;\">\n      <p style=\"color: #888; font-size: 12px; text-align: center;\">\n        Fiddyfiddy - 50/50 Digital Raffles<br>\n        <a href=\"${SITE_URL}\" style=\"color: #7c3aed;\">fiddyfiddy.org</a>\n      </p>\n    </div>\n  `;\n    return sendEmail(ticket.player_email, subject, html);\n}\n/**\n * Send drawing report to all players\n */ async function sendDrawingReport(players, raffle, drawLog, winningTicket) {\n    const subject = `Fiddyfiddy Results: ${raffle.beneficiary_name}`;\n    // Build draw log HTML\n    let drawLogHtml = \"\";\n    drawLog.forEach((entry, index)=>{\n        const isWinner = entry.result === \"Winner\";\n        const color = isWinner ? \"#10b981\" : \"#ef4444\";\n        const icon = isWinner ? \"\" : \"\";\n        drawLogHtml += `\n      <tr>\n        <td style=\"padding: 8px; border-bottom: 1px solid #e5e7eb;\">Draw ${entry.draw_number}</td>\n        <td style=\"padding: 8px; border-bottom: 1px solid #e5e7eb;\">${entry.ticket_number}</td>\n        <td style=\"padding: 8px; border-bottom: 1px solid #e5e7eb; color: ${color}; font-weight: bold;\">\n          ${icon} ${entry.result}${entry.reason ? ` (${entry.reason})` : \"\"}\n        </td>\n      </tr>\n    `;\n    });\n    // Send to each player\n    const results = [];\n    for (const player of players){\n        const isWinner = player.ticket_number === winningTicket.ticket_number;\n        const html = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <h1 style=\"color: #7c3aed;\">Thanks for playing!</h1>\n        \n        <p>The <strong>${raffle.beneficiary_name}</strong> raffle is complete.</p>\n        \n        <h2 style=\"color: #1f2937; margin-top: 30px;\">Drawing Results</h2>\n        <table style=\"width: 100%; border-collapse: collapse; font-size: 14px;\">\n          <tr style=\"background: #f3f4f6;\">\n            <th style=\"padding: 10px; text-align: left;\">Draw</th>\n            <th style=\"padding: 10px; text-align: left;\">Ticket</th>\n            <th style=\"padding: 10px; text-align: left;\">Result</th>\n          </tr>\n          ${drawLogHtml}\n        </table>\n        \n        <div style=\"background: ${isWinner ? \"#d1fae5\" : \"#f3f4f6\"}; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center;\">\n          ${isWinner ? `\n            <p style=\"margin: 0; font-size: 18px; color: #047857;\"> <strong>Your ticket (${player.ticket_number}) WON!</strong></p>\n            <p style=\"margin: 10px 0 0; font-size: 24px; font-weight: bold; color: #047857;\">$${raffle.jackpot_current}</p>\n          ` : `\n            <p style=\"margin: 0; color: #666;\">Your ticket (${player.ticket_number}) was not selected this time.</p>\n            <p style=\"margin: 10px 0 0; font-weight: bold;\">Winning Ticket: ${winningTicket.ticket_number}</p>\n            <p style=\"margin: 5px 0 0; color: #10b981;\">Jackpot: $${raffle.jackpot_current}</p>\n          `}\n        </div>\n        \n        ${!isWinner ? `\n          <p style=\"text-align: center; margin-top: 30px;\">\n            <a href=\"${SITE_URL}/lobby\" style=\"background: #7c3aed; color: white; padding: 12px 30px; border-radius: 8px; text-decoration: none; font-weight: bold;\"> Try Another Raffle</a>\n          </p>\n        ` : \"\"}\n        \n        <hr style=\"border: none; border-top: 1px solid #e5e7eb; margin: 30px 0;\">\n        <p style=\"color: #888; font-size: 12px; text-align: center;\">\n          Fiddyfiddy - 50/50 Digital Raffles<br>\n          <a href=\"${SITE_URL}\" style=\"color: #7c3aed;\">fiddyfiddy.org</a>\n        </p>\n      </div>\n    `;\n        const result = await sendEmail(player.player_email, subject, html);\n        results.push({\n            email: player.player_email,\n            ...result\n        });\n    }\n    return results;\n}\n/**\n * Send payout notification to organizer\n */ async function sendPayoutNotification(organizer, raffle, winner) {\n    const subject = ` ACTION REQUIRED: Pay Raffle Winner (48hr deadline)`;\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h1 style=\"color: #f59e0b;\"> PAYOUT REQUIRED</h1>\n      \n      <p>The <strong>${raffle.beneficiary_name}</strong> raffle has completed!</p>\n      \n      <h2 style=\"color: #1f2937;\">Winner Details</h2>\n      <table style=\"width: 100%; border-collapse: collapse;\">\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Ticket</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; font-weight: bold;\">${winner.ticket_number}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Email</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb;\">${winner.player_email}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Venmo</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; font-weight: bold;\">@${winner.player_venmo}</td>\n        </tr>\n        <tr>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; color: #666;\">Amount Due</td>\n          <td style=\"padding: 10px 0; border-bottom: 1px solid #e5e7eb; font-size: 24px; font-weight: bold; color: #10b981;\">$${raffle.jackpot_current}</td>\n        </tr>\n      </table>\n      \n      <div style=\"background: #fef3c7; border: 1px solid #f59e0b; padding: 15px; border-radius: 10px; margin: 20px 0;\">\n        <p style=\"margin: 0; color: #92400e;\">\n          <strong> DEADLINE:</strong> You must pay within <strong>48 hours</strong>.\n        </p>\n      </div>\n      \n      <h3 style=\"color: #1f2937;\">Instructions</h3>\n      <ol style=\"color: #666; line-height: 1.8;\">\n        <li>Open Venmo</li>\n        <li>Pay <strong>@${winner.player_venmo}</strong> the amount of <strong>$${raffle.jackpot_current}</strong></li>\n        <li>Include note: <code>Fiddyfiddy Winner - ${winner.ticket_number}</code></li>\n        <li>Click below to confirm payment sent</li>\n      </ol>\n      \n      <p style=\"text-align: center; margin-top: 30px;\">\n        <a href=\"${SITE_URL}/raffle/${raffle.id}/payout\" style=\"background: #10b981; color: white; padding: 15px 40px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 18px;\">CONFIRM PAYMENT SENT</a>\n      </p>\n      \n      <hr style=\"border: none; border-top: 1px solid #e5e7eb; margin: 30px 0;\">\n      <p style=\"color: #888; font-size: 12px; text-align: center;\">\n        Fiddyfiddy Admin\n      </p>\n    </div>\n  `;\n    return sendEmail(organizer.email, subject, html);\n}\n/**\n * Send payout reminder (at 24 hours)\n */ async function sendPayoutReminder(organizer, raffle, winner) {\n    const subject = ` REMINDER: Pay Raffle Winner - 24 hours remaining`;\n    const html = `\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n      <h1 style=\"color: #ef4444;\"> PAYMENT REMINDER</h1>\n      \n      <p>You have <strong>24 hours remaining</strong> to pay the winner of the <strong>${raffle.beneficiary_name}</strong> raffle.</p>\n      \n      <div style=\"background: #fee2e2; border: 1px solid #ef4444; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center;\">\n        <p style=\"margin: 0; font-size: 18px; color: #dc2626;\">Pay <strong>@${winner.player_venmo}</strong></p>\n        <p style=\"margin: 10px 0 0; font-size: 36px; font-weight: bold; color: #dc2626;\">$${raffle.jackpot_current}</p>\n      </div>\n      \n      <p style=\"text-align: center;\">\n        <a href=\"${SITE_URL}/raffle/${raffle.id}/payout\" style=\"background: #10b981; color: white; padding: 15px 40px; border-radius: 8px; text-decoration: none; font-weight: bold;\">CONFIRM PAYMENT SENT</a>\n      </p>\n      \n      <hr style=\"border: none; border-top: 1px solid #e5e7eb; margin: 30px 0;\">\n      <p style=\"color: #888; font-size: 12px; text-align: center;\">Fiddyfiddy Admin</p>\n    </div>\n  `;\n    return sendEmail(organizer.email, subject, html);\n}\n// Helper function\nfunction getDrawInfo(raffle) {\n    switch(raffle.draw_trigger){\n        case \"Time\":\n            return raffle.draw_time ? new Date(raffle.draw_time).toLocaleString() : \"Scheduled\";\n        case \"TicketCount\":\n            return `When ${raffle.draw_ticket_count} tickets sold`;\n        case \"Manual\":\n        default:\n            return \"Organizer will draw\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU8sQ0FBQyxLQUFLLEVBQUVqQyxPQUFPa0MsaUJBQWlCLENBQUMsYUFBYSxDQUFDO1FBQ3hELEtBQUs7UUFDTDtZQUNFLE9BQU87SUFDWDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmlkZHlmaWRkeS8uL2xpYi9zZW5kZ3JpZC5qcz8xMzY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VuZEdyaWQgRW1haWwgRnVuY3Rpb25zXG4gKiBIYW5kbGVzIGFsbCBlbWFpbCBub3RpZmljYXRpb25zXG4gKi9cblxuaW1wb3J0IHNnTWFpbCBmcm9tICdAc2VuZGdyaWQvbWFpbCc7XG5cbi8vIEluaXRpYWxpemUgU2VuZEdyaWRcbnNnTWFpbC5zZXRBcGlLZXkocHJvY2Vzcy5lbnYuU0VOREdSSURfQVBJX0tFWSk7XG5cbmNvbnN0IEZST01fRU1BSUwgPSBwcm9jZXNzLmVudi5TRU5ER1JJRF9GUk9NX0VNQUlMIHx8ICdub3JlcGx5QGZpZGR5ZmlkZHkub3JnJztcbmNvbnN0IEZST01fTkFNRSA9IHByb2Nlc3MuZW52LlNFTkRHUklEX0ZST01fTkFNRSB8fCAnRmlkZHlmaWRkeSc7XG5jb25zdCBTSVRFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMIHx8ICdodHRwczovL2ZpZGR5ZmlkZHkub3JnJztcblxuLyoqXG4gKiBTZW5kIGFuIGVtYWlsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNlbmRFbWFpbCh0bywgc3ViamVjdCwgaHRtbCwgdGV4dCA9IG51bGwpIHtcbiAgY29uc3QgbXNnID0ge1xuICAgIHRvLFxuICAgIGZyb206IHtcbiAgICAgIGVtYWlsOiBGUk9NX0VNQUlMLFxuICAgICAgbmFtZTogRlJPTV9OQU1FLFxuICAgIH0sXG4gICAgc3ViamVjdCxcbiAgICBodG1sLFxuICAgIHRleHQ6IHRleHQgfHwgaHRtbC5yZXBsYWNlKC88W14+XSo+L2csICcnKSwgLy8gU3RyaXAgSFRNTCBmb3IgdGV4dCB2ZXJzaW9uXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBzZ01haWwuc2VuZChtc2cpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTZW5kR3JpZCBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIHRpY2tldCBjb25maXJtYXRpb24gZW1haWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRUaWNrZXRDb25maXJtYXRpb24odGlja2V0LCByYWZmbGUpIHtcbiAgY29uc3Qgc3ViamVjdCA9IGBZb3VyIEZpZGR5ZmlkZHkgVGlja2V0OiAke3RpY2tldC50aWNrZXRfbnVtYmVyfWA7XG4gIFxuICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvO1wiPlxuICAgICAgPGgxIHN0eWxlPVwiY29sb3I6ICM3YzNhZWQ7XCI+8J+On++4jyBZb3UncmUgaW4gdGhlIHJhZmZsZSE8L2gxPlxuICAgICAgXG4gICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2YzZjRmNjsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7XCI+XG4gICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNjY2O1wiPlRpY2tldCBOdW1iZXI8L3A+XG4gICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiA1cHggMCAwOyBmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzFmMjkzNztcIj4ke3RpY2tldC50aWNrZXRfbnVtYmVyfTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8dGFibGUgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcIj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZCBzdHlsZT1cInBhZGRpbmc6IDEwcHggMDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNWU3ZWI7IGNvbG9yOiAjNjY2O1wiPlJhZmZsZTwvdGQ+XG4gICAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzogMTBweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTdlYjsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+JHtyYWZmbGUuYmVuZWZpY2lhcnlfbmFtZX08L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzogMTBweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTdlYjsgY29sb3I6ICM2NjY7XCI+Q3VycmVudCBKYWNrcG90PC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMxMGI5ODE7XCI+JCR7cmFmZmxlLmphY2twb3RfY3VycmVudCB8fCAwfTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBjb2xvcjogIzY2NjtcIj5EcmF3aW5nPC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViO1wiPiR7Z2V0RHJhd0luZm8ocmFmZmxlKX08L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90YWJsZT5cbiAgICAgIFxuICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICNmZWYzYzc7IGJvcmRlcjogMXB4IHNvbGlkICNmNTllMGI7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG1hcmdpbjogMjBweCAwO1wiPlxuICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDsgY29sb3I6ICM5MjQwMGU7XCI+XG4gICAgICAgICAgPHN0cm9uZz7imqDvuI8gSW1wb3J0YW50Ojwvc3Ryb25nPiBZb3VyIHRpY2tldCBpcyBvbmx5IHZhbGlkIGlmIHlvdXIgcGF5bWVudCBpcyBjb25maXJtZWQgYmVmb3JlIHRoZSBkcmF3aW5nLiBcbiAgICAgICAgICBJZiBwYXltZW50IGNhbm5vdCBiZSB2ZXJpZmllZCwgeW91ciB0aWNrZXQgd2lsbCBub3QgYmUgZWxpZ2libGUgYW5kIGFub3RoZXIgdGlja2V0IHdpbGwgYmUgZHJhd24uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMzBweDtcIj5cbiAgICAgICAgPGEgaHJlZj1cIiR7U0lURV9VUkx9L3RpY2tldC8ke3RpY2tldC50aWNrZXRfbnVtYmVyfVwiIHN0eWxlPVwiYmFja2dyb3VuZDogIzdjM2FlZDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDMwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBmb250LXdlaWdodDogYm9sZDtcIj5DaGVjayBUaWNrZXQgU3RhdHVzPC9hPlxuICAgICAgPC9wPlxuICAgICAgXG4gICAgICA8cCBzdHlsZT1cImNvbG9yOiAjODg4OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDMwcHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5Hb29kIGx1Y2shIPCfjYA8L3A+XG4gICAgICBcbiAgICAgIDxociBzdHlsZT1cImJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU3ZWI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzg4ODsgZm9udC1zaXplOiAxMnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgIEZpZGR5ZmlkZHkgLSA1MC81MCBEaWdpdGFsIFJhZmZsZXM8YnI+XG4gICAgICAgIDxhIGhyZWY9XCIke1NJVEVfVVJMfVwiIHN0eWxlPVwiY29sb3I6ICM3YzNhZWQ7XCI+ZmlkZHlmaWRkeS5vcmc8L2E+XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgcmV0dXJuIHNlbmRFbWFpbCh0aWNrZXQucGxheWVyX2VtYWlsLCBzdWJqZWN0LCBodG1sKTtcbn1cblxuLyoqXG4gKiBTZW5kIHdpbm5lciBub3RpZmljYXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRXaW5uZXJOb3RpZmljYXRpb24odGlja2V0LCByYWZmbGUpIHtcbiAgY29uc3Qgc3ViamVjdCA9IGDwn46JIFlPVSBXT04hIEZpZGR5ZmlkZHkgUmFmZmxlYDtcbiAgXG4gIGNvbnN0IGh0bWwgPSBgXG4gICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87XCI+XG4gICAgICA8aDEgc3R5bGU9XCJjb2xvcjogIzEwYjk4MTsgdGV4dC1hbGlnbjogY2VudGVyO1wiPvCfjokgQ09OR1JBVFVMQVRJT05TITwvaDE+XG4gICAgICBcbiAgICAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LXNpemU6IDE4cHg7XCI+WW91IHdvbiB0aGUgPHN0cm9uZz4ke3JhZmZsZS5iZW5lZmljaWFyeV9uYW1lfTwvc3Ryb25nPiByYWZmbGUhPC9wPlxuICAgICAgXG4gICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2QxZmFlNTsgcGFkZGluZzogMzBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDA7IGZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICMwNjVmNDY7XCI+WW91ciBQcml6ZTwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDEwcHggMCAwOyBmb250LXNpemU6IDQ4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzA0Nzg1NztcIj4kJHtyYWZmbGUuamFja3BvdF9jdXJyZW50fTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8dGFibGUgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcIj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZCBzdHlsZT1cInBhZGRpbmc6IDEwcHggMDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNWU3ZWI7IGNvbG9yOiAjNjY2O1wiPllvdXIgVGlja2V0PC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBmb250LXdlaWdodDogYm9sZDtcIj4ke3RpY2tldC50aWNrZXRfbnVtYmVyfTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBjb2xvcjogIzY2NjtcIj5Zb3VyIFZlbm1vPC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViO1wiPkAke3RpY2tldC5wbGF5ZXJfdmVubW99PC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgIDwvdGFibGU+XG4gICAgICBcbiAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZWZmNmZmOyBib3JkZXI6IDFweCBzb2xpZCAjM2I4MmY2OyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW46IDIwcHggMDtcIj5cbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDA7IGNvbG9yOiAjMWU0MGFmO1wiPlxuICAgICAgICAgIFlvdXIgd2lubmluZ3Mgd2lsbCBiZSBzZW50IHRvIHlvdXIgVmVubW8gPHN0cm9uZz5AJHt0aWNrZXQucGxheWVyX3Zlbm1vfTwvc3Ryb25nPiB3aXRoaW4gNDggaG91cnMuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6ICM2NjY7XCI+VGhhbmsgeW91IGZvciBzdXBwb3J0aW5nIDxzdHJvbmc+JHtyYWZmbGUuYmVuZWZpY2lhcnlfbmFtZX08L3N0cm9uZz4hPC9wPlxuICAgICAgXG4gICAgICA8aHIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTVlN2ViOyBtYXJnaW46IDMwcHggMDtcIj5cbiAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM4ODg7IGZvbnQtc2l6ZTogMTJweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICBGaWRkeWZpZGR5IC0gNTAvNTAgRGlnaXRhbCBSYWZmbGVzPGJyPlxuICAgICAgICA8YSBocmVmPVwiJHtTSVRFX1VSTH1cIiBzdHlsZT1cImNvbG9yOiAjN2MzYWVkO1wiPmZpZGR5ZmlkZHkub3JnPC9hPlxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIHJldHVybiBzZW5kRW1haWwodGlja2V0LnBsYXllcl9lbWFpbCwgc3ViamVjdCwgaHRtbCk7XG59XG5cbi8qKlxuICogU2VuZCBkcmF3aW5nIHJlcG9ydCB0byBhbGwgcGxheWVyc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZERyYXdpbmdSZXBvcnQocGxheWVycywgcmFmZmxlLCBkcmF3TG9nLCB3aW5uaW5nVGlja2V0KSB7XG4gIGNvbnN0IHN1YmplY3QgPSBgRmlkZHlmaWRkeSBSZXN1bHRzOiAke3JhZmZsZS5iZW5lZmljaWFyeV9uYW1lfWA7XG4gIFxuICAvLyBCdWlsZCBkcmF3IGxvZyBIVE1MXG4gIGxldCBkcmF3TG9nSHRtbCA9ICcnO1xuICBkcmF3TG9nLmZvckVhY2goKGVudHJ5LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGlzV2lubmVyID0gZW50cnkucmVzdWx0ID09PSAnV2lubmVyJztcbiAgICBjb25zdCBjb2xvciA9IGlzV2lubmVyID8gJyMxMGI5ODEnIDogJyNlZjQ0NDQnO1xuICAgIGNvbnN0IGljb24gPSBpc1dpbm5lciA/ICfinJMnIDogJ+Kclyc7XG4gICAgZHJhd0xvZ0h0bWwgKz0gYFxuICAgICAgPHRyPlxuICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViO1wiPkRyYXcgJHtlbnRyeS5kcmF3X251bWJlcn08L3RkPlxuICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViO1wiPiR7ZW50cnkudGlja2V0X251bWJlcn08L3RkPlxuICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBjb2xvcjogJHtjb2xvcn07IGZvbnQtd2VpZ2h0OiBib2xkO1wiPlxuICAgICAgICAgICR7aWNvbn0gJHtlbnRyeS5yZXN1bHR9JHtlbnRyeS5yZWFzb24gPyBgICgke2VudHJ5LnJlYXNvbn0pYCA6ICcnfVxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICBgO1xuICB9KTtcblxuICAvLyBTZW5kIHRvIGVhY2ggcGxheWVyXG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgZm9yIChjb25zdCBwbGF5ZXIgb2YgcGxheWVycykge1xuICAgIGNvbnN0IGlzV2lubmVyID0gcGxheWVyLnRpY2tldF9udW1iZXIgPT09IHdpbm5pbmdUaWNrZXQudGlja2V0X251bWJlcjtcbiAgICBcbiAgICBjb25zdCBodG1sID0gYFxuICAgICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87XCI+XG4gICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjN2MzYWVkO1wiPlRoYW5rcyBmb3IgcGxheWluZyE8L2gxPlxuICAgICAgICBcbiAgICAgICAgPHA+VGhlIDxzdHJvbmc+JHtyYWZmbGUuYmVuZWZpY2lhcnlfbmFtZX08L3N0cm9uZz4gcmFmZmxlIGlzIGNvbXBsZXRlLjwvcD5cbiAgICAgICAgXG4gICAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjMWYyOTM3OyBtYXJnaW4tdG9wOiAzMHB4O1wiPkRyYXdpbmcgUmVzdWx0czwvaDI+XG4gICAgICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBmb250LXNpemU6IDE0cHg7XCI+XG4gICAgICAgICAgPHRyIHN0eWxlPVwiYmFja2dyb3VuZDogI2YzZjRmNjtcIj5cbiAgICAgICAgICAgIDx0aCBzdHlsZT1cInBhZGRpbmc6IDEwcHg7IHRleHQtYWxpZ246IGxlZnQ7XCI+RHJhdzwvdGg+XG4gICAgICAgICAgICA8dGggc3R5bGU9XCJwYWRkaW5nOiAxMHB4OyB0ZXh0LWFsaWduOiBsZWZ0O1wiPlRpY2tldDwvdGg+XG4gICAgICAgICAgICA8dGggc3R5bGU9XCJwYWRkaW5nOiAxMHB4OyB0ZXh0LWFsaWduOiBsZWZ0O1wiPlJlc3VsdDwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICAke2RyYXdMb2dIdG1sfVxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICR7aXNXaW5uZXIgPyAnI2QxZmFlNScgOiAnI2YzZjRmNid9OyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW46IDIwcHggMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgICR7aXNXaW5uZXIgPyBgXG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDsgZm9udC1zaXplOiAxOHB4OyBjb2xvcjogIzA0Nzg1NztcIj7wn46JIDxzdHJvbmc+WW91ciB0aWNrZXQgKCR7cGxheWVyLnRpY2tldF9udW1iZXJ9KSBXT04hPC9zdHJvbmc+PC9wPlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDEwcHggMCAwOyBmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzA0Nzg1NztcIj4kJHtyYWZmbGUuamFja3BvdF9jdXJyZW50fTwvcD5cbiAgICAgICAgICBgIDogYFxuICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDA7IGNvbG9yOiAjNjY2O1wiPllvdXIgdGlja2V0ICgke3BsYXllci50aWNrZXRfbnVtYmVyfSkgd2FzIG5vdCBzZWxlY3RlZCB0aGlzIHRpbWUuPC9wPlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDEwcHggMCAwOyBmb250LXdlaWdodDogYm9sZDtcIj5XaW5uaW5nIFRpY2tldDogJHt3aW5uaW5nVGlja2V0LnRpY2tldF9udW1iZXJ9PC9wPlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDVweCAwIDA7IGNvbG9yOiAjMTBiOTgxO1wiPkphY2twb3Q6ICQke3JhZmZsZS5qYWNrcG90X2N1cnJlbnR9PC9wPlxuICAgICAgICAgIGB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgJHshaXNXaW5uZXIgPyBgXG4gICAgICAgICAgPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi10b3A6IDMwcHg7XCI+XG4gICAgICAgICAgICA8YSBocmVmPVwiJHtTSVRFX1VSTH0vbG9iYnlcIiBzdHlsZT1cImJhY2tncm91bmQ6ICM3YzNhZWQ7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMTJweCAzMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+8J+On++4jyBUcnkgQW5vdGhlciBSYWZmbGU8L2E+XG4gICAgICAgICAgPC9wPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgIFxuICAgICAgICA8aHIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTVlN2ViOyBtYXJnaW46IDMwcHggMDtcIj5cbiAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzg4ODsgZm9udC1zaXplOiAxMnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgRmlkZHlmaWRkeSAtIDUwLzUwIERpZ2l0YWwgUmFmZmxlczxicj5cbiAgICAgICAgICA8YSBocmVmPVwiJHtTSVRFX1VSTH1cIiBzdHlsZT1cImNvbG9yOiAjN2MzYWVkO1wiPmZpZGR5ZmlkZHkub3JnPC9hPlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZEVtYWlsKHBsYXllci5wbGF5ZXJfZW1haWwsIHN1YmplY3QsIGh0bWwpO1xuICAgIHJlc3VsdHMucHVzaCh7IGVtYWlsOiBwbGF5ZXIucGxheWVyX2VtYWlsLCAuLi5yZXN1bHQgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuLyoqXG4gKiBTZW5kIHBheW91dCBub3RpZmljYXRpb24gdG8gb3JnYW5pemVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUGF5b3V0Tm90aWZpY2F0aW9uKG9yZ2FuaXplciwgcmFmZmxlLCB3aW5uZXIpIHtcbiAgY29uc3Qgc3ViamVjdCA9IGDimqEgQUNUSU9OIFJFUVVJUkVEOiBQYXkgUmFmZmxlIFdpbm5lciAoNDhociBkZWFkbGluZSlgO1xuICBcbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cbiAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjZjU5ZTBiO1wiPuKaoSBQQVlPVVQgUkVRVUlSRUQ8L2gxPlxuICAgICAgXG4gICAgICA8cD5UaGUgPHN0cm9uZz4ke3JhZmZsZS5iZW5lZmljaWFyeV9uYW1lfTwvc3Ryb25nPiByYWZmbGUgaGFzIGNvbXBsZXRlZCE8L3A+XG4gICAgICBcbiAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjMWYyOTM3O1wiPldpbm5lciBEZXRhaWxzPC9oMj5cbiAgICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1wiPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzogMTBweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTdlYjsgY29sb3I6ICM2NjY7XCI+VGlja2V0PC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBmb250LXdlaWdodDogYm9sZDtcIj4ke3dpbm5lci50aWNrZXRfbnVtYmVyfTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBjb2xvcjogIzY2NjtcIj5FbWFpbDwvdGQ+XG4gICAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzogMTBweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTdlYjtcIj4ke3dpbm5lci5wbGF5ZXJfZW1haWx9PC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZCBzdHlsZT1cInBhZGRpbmc6IDEwcHggMDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNWU3ZWI7IGNvbG9yOiAjNjY2O1wiPlZlbm1vPC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBmb250LXdlaWdodDogYm9sZDtcIj5AJHt3aW5uZXIucGxheWVyX3Zlbm1vfTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBjb2xvcjogIzY2NjtcIj5BbW91bnQgRHVlPC90ZD5cbiAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAxMHB4IDA7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlN2ViOyBmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzEwYjk4MTtcIj4kJHtyYWZmbGUuamFja3BvdF9jdXJyZW50fTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICA8L3RhYmxlPlxuICAgICAgXG4gICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2ZlZjNjNzsgYm9yZGVyOiAxcHggc29saWQgI2Y1OWUwYjsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luOiAyMHB4IDA7XCI+XG4gICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBjb2xvcjogIzkyNDAwZTtcIj5cbiAgICAgICAgICA8c3Ryb25nPuKPsCBERUFETElORTo8L3N0cm9uZz4gWW91IG11c3QgcGF5IHdpdGhpbiA8c3Ryb25nPjQ4IGhvdXJzPC9zdHJvbmc+LlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGgzIHN0eWxlPVwiY29sb3I6ICMxZjI5Mzc7XCI+SW5zdHJ1Y3Rpb25zPC9oMz5cbiAgICAgIDxvbCBzdHlsZT1cImNvbG9yOiAjNjY2OyBsaW5lLWhlaWdodDogMS44O1wiPlxuICAgICAgICA8bGk+T3BlbiBWZW5tbzwvbGk+XG4gICAgICAgIDxsaT5QYXkgPHN0cm9uZz5AJHt3aW5uZXIucGxheWVyX3Zlbm1vfTwvc3Ryb25nPiB0aGUgYW1vdW50IG9mIDxzdHJvbmc+JCR7cmFmZmxlLmphY2twb3RfY3VycmVudH08L3N0cm9uZz48L2xpPlxuICAgICAgICA8bGk+SW5jbHVkZSBub3RlOiA8Y29kZT5GaWRkeWZpZGR5IFdpbm5lciAtICR7d2lubmVyLnRpY2tldF9udW1iZXJ9PC9jb2RlPjwvbGk+XG4gICAgICAgIDxsaT5DbGljayBiZWxvdyB0byBjb25maXJtIHBheW1lbnQgc2VudDwvbGk+XG4gICAgICA8L29sPlxuICAgICAgXG4gICAgICA8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMzBweDtcIj5cbiAgICAgICAgPGEgaHJlZj1cIiR7U0lURV9VUkx9L3JhZmZsZS8ke3JhZmZsZS5pZH0vcGF5b3V0XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjMTBiOTgxOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDE1cHggNDBweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE4cHg7XCI+Q09ORklSTSBQQVlNRU5UIFNFTlQ8L2E+XG4gICAgICA8L3A+XG4gICAgICBcbiAgICAgIDxociBzdHlsZT1cImJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU3ZWI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzg4ODsgZm9udC1zaXplOiAxMnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgIEZpZGR5ZmlkZHkgQWRtaW5cbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICByZXR1cm4gc2VuZEVtYWlsKG9yZ2FuaXplci5lbWFpbCwgc3ViamVjdCwgaHRtbCk7XG59XG5cbi8qKlxuICogU2VuZCBwYXlvdXQgcmVtaW5kZXIgKGF0IDI0IGhvdXJzKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFBheW91dFJlbWluZGVyKG9yZ2FuaXplciwgcmFmZmxlLCB3aW5uZXIpIHtcbiAgY29uc3Qgc3ViamVjdCA9IGDimqDvuI8gUkVNSU5ERVI6IFBheSBSYWZmbGUgV2lubmVyIC0gMjQgaG91cnMgcmVtYWluaW5nYDtcbiAgXG4gIGNvbnN0IGh0bWwgPSBgXG4gICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87XCI+XG4gICAgICA8aDEgc3R5bGU9XCJjb2xvcjogI2VmNDQ0NDtcIj7imqDvuI8gUEFZTUVOVCBSRU1JTkRFUjwvaDE+XG4gICAgICBcbiAgICAgIDxwPllvdSBoYXZlIDxzdHJvbmc+MjQgaG91cnMgcmVtYWluaW5nPC9zdHJvbmc+IHRvIHBheSB0aGUgd2lubmVyIG9mIHRoZSA8c3Ryb25nPiR7cmFmZmxlLmJlbmVmaWNpYXJ5X25hbWV9PC9zdHJvbmc+IHJhZmZsZS48L3A+XG4gICAgICBcbiAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmVlMmUyOyBib3JkZXI6IDFweCBzb2xpZCAjZWY0NDQ0OyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW46IDIwcHggMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDsgZm9udC1zaXplOiAxOHB4OyBjb2xvcjogI2RjMjYyNjtcIj5QYXkgPHN0cm9uZz5AJHt3aW5uZXIucGxheWVyX3Zlbm1vfTwvc3Ryb25nPjwvcD5cbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDEwcHggMCAwOyBmb250LXNpemU6IDM2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI2RjMjYyNjtcIj4kJHtyYWZmbGUuamFja3BvdF9jdXJyZW50fTwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgPGEgaHJlZj1cIiR7U0lURV9VUkx9L3JhZmZsZS8ke3JhZmZsZS5pZH0vcGF5b3V0XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjMTBiOTgxOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDE1cHggNDBweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPkNPTkZJUk0gUEFZTUVOVCBTRU5UPC9hPlxuICAgICAgPC9wPlxuICAgICAgXG4gICAgICA8aHIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTVlN2ViOyBtYXJnaW46IDMwcHggMDtcIj5cbiAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM4ODg7IGZvbnQtc2l6ZTogMTJweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPkZpZGR5ZmlkZHkgQWRtaW48L3A+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgcmV0dXJuIHNlbmRFbWFpbChvcmdhbml6ZXIuZW1haWwsIHN1YmplY3QsIGh0bWwpO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25cbmZ1bmN0aW9uIGdldERyYXdJbmZvKHJhZmZsZSkge1xuICBzd2l0Y2ggKHJhZmZsZS5kcmF3X3RyaWdnZXIpIHtcbiAgICBjYXNlICdUaW1lJzpcbiAgICAgIHJldHVybiByYWZmbGUuZHJhd190aW1lID8gbmV3IERhdGUocmFmZmxlLmRyYXdfdGltZSkudG9Mb2NhbGVTdHJpbmcoKSA6ICdTY2hlZHVsZWQnO1xuICAgIGNhc2UgJ1RpY2tldENvdW50JzpcbiAgICAgIHJldHVybiBgV2hlbiAke3JhZmZsZS5kcmF3X3RpY2tldF9jb3VudH0gdGlja2V0cyBzb2xkYDtcbiAgICBjYXNlICdNYW51YWwnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ09yZ2FuaXplciB3aWxsIGRyYXcnO1xuICB9XG59XG4iXSwibmFtZXMiOlsic2dNYWlsIiwic2V0QXBpS2V5IiwicHJvY2VzcyIsImVudiIsIlNFTkRHUklEX0FQSV9LRVkiLCJGUk9NX0VNQUlMIiwiU0VOREdSSURfRlJPTV9FTUFJTCIsIkZST01fTkFNRSIsIlNFTkRHUklEX0ZST01fTkFNRSIsIlNJVEVfVVJMIiwiTkVYVF9QVUJMSUNfU0lURV9VUkwiLCJzZW5kRW1haWwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwidGV4dCIsIm1zZyIsImZyb20iLCJlbWFpbCIsIm5hbWUiLCJyZXBsYWNlIiwic2VuZCIsInN1Y2Nlc3MiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic2VuZFRpY2tldENvbmZpcm1hdGlvbiIsInRpY2tldCIsInJhZmZsZSIsInRpY2tldF9udW1iZXIiLCJiZW5lZmljaWFyeV9uYW1lIiwiamFja3BvdF9jdXJyZW50IiwiZ2V0RHJhd0luZm8iLCJwbGF5ZXJfZW1haWwiLCJzZW5kV2lubmVyTm90aWZpY2F0aW9uIiwicGxheWVyX3Zlbm1vIiwic2VuZERyYXdpbmdSZXBvcnQiLCJwbGF5ZXJzIiwiZHJhd0xvZyIsIndpbm5pbmdUaWNrZXQiLCJkcmF3TG9nSHRtbCIsImZvckVhY2giLCJlbnRyeSIsImluZGV4IiwiaXNXaW5uZXIiLCJyZXN1bHQiLCJjb2xvciIsImljb24iLCJkcmF3X251bWJlciIsInJlYXNvbiIsInJlc3VsdHMiLCJwbGF5ZXIiLCJwdXNoIiwic2VuZFBheW91dE5vdGlmaWNhdGlvbiIsIm9yZ2FuaXplciIsIndpbm5lciIsImlkIiwic2VuZFBheW91dFJlbWluZGVyIiwiZHJhd190cmlnZ2VyIiwiZHJhd190aW1lIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwiZHJhd190aWNrZXRfY291bnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/sendgrid.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/mime-db","vendor-chunks/@sendgrid","vendor-chunks/follow-redirects","vendor-chunks/get-intrinsic","vendor-chunks/form-data","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/deepmerge","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/es-define-property","vendor-chunks/gopd","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&page=%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftickets%2F%5Bid%5D%2Fverify%2Froute.js&appDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmmaso%5CDownloads%5Cfiddyfiddy10%5Cfiddyfiddy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();